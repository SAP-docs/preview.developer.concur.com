<!DOCTYPE html>
<html lang="en">

<head>
  


  <title> SAP Concur Developer Center | Migrating old tokens to new OAuth2 Bearer Tokens</title>


<!-- Meta -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="The starting point for anyone interested in integrating with the SAP Concur platform that reaches 80 million end users.">
<meta name="author" content="">

<!-- Sitemap link -->
<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />

<!-- Favicon -->
<link rel="shortcut icon" href="/assets/img/square-sap-favicon.png" type="image/png">

<!-- Adobe Analytics Global-->
<script src="https://assets.adobedtm.com/e1226b306979/aeb854337dc8/launch-85c98625c1e8.min.js" async></script>

<!-- Canonical link-->
<link rel="canonical" href="https://preview.developer.concur.com/api-reference/authentication/migrationguide.html" data-proofer-ignore>

<!-- CSS Global Compulsory -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400">
<link rel="stylesheet" href="/assets/style.css">

<!-- CSS Implementing Plugins -->
<link rel="stylesheet" href="/assets/plugins/font-awesome/css/all.min.css">



<link rel="alternate" type="application/rss+xml" title="SAP Concur Developer Center RSS" href="/feed.xml" />

</head>

<body>


  <div class="wrapper page-option-v1">
    <div class="hidden-print">
  <nav id="header-navbar" class="navbar navbar-inverse hidden-print">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header col-6">
        <button type="button" class="navbar-toggle collapsed" style="color: white" data-toggle="collapse" data-target="#nav-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">
          <img src="/assets/img/sap-concur-logo-white.png" alt="Logo">
          <div class="app-name">Developer Center</div>
        </a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse col-6" id="nav-collapse-1">
        <ul class="nav navbar-nav navbar-right" style="padding-top: 9px">
          <!-- Development -->
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" style="color: white" role="button" aria-haspopup="true">
              Development <span class="caret"></span>
            </a>
            <ul class="dropdown-menu multi-column three-column-menu">
              <div class="row">
                <div class="col-sm-4">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-map-marked-alt fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">About</li>
                    <li><a href="/getting-started.html">Getting Started</a></li>
                    <li><a href="/api-reference/authentication/getting-started.html">Authentication</a></li>
                    <li><a href="/platform/index.html">Platform</a></li>
                    <li><a href="/tools-support/deprecation-policy.html">API Deprecation</a></li>
                  </ul>
                </div>
                <div class="col-sm-4">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-book fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">Documentation</li>
                    <li><a href="/api-reference/">API Reference</a></li>
                    <li><a href="/api-explorer/">API Explorer</a></li>
                    <li><a href="/api-guides/">API Guides</a></li>
                    <li><a href="/event-topics/">Event Topics</a></li>
                  </ul>
                </div>
                <div class="col-sm-4">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-clipboard-list fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">UX Guidelines</li>
                    <li><a href="/manage-apps/go-market-docs/app-center-ux-guidelines-enterprise.html">Enterprise Applications</a></li>
                    <li><a href="/manage-apps/go-market-docs/app-center-ux-guidelines-consumer.html">User Connections</a>
                    </li>
                  </ul>
                </div>
              </div>
            </ul>
          </li>
          <!-- Partner Resources -->
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" style="color: white" aria-haspopup="true" aria-expanded="false">
              Partner Resources <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li class="column-icon">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fas fa-lightbulb fa-stack-1x fa-inverse"></i>
                </span>
              </li>
              <li class="column-title">Partner Resources</li>
              <li><a href="/manage-apps/app-certification.html">App Certification</a></li>
              <li><a href="/manage-apps/partner-applications.html">App Registration & Management</a></li>
              <li><a href="https://www.concur.com/en-us/app-center" target="_blank">App Center</a></li>
              <li><a href="https://www.concursolutions.com/" target="_blank">Login to Concur</a></li>
            </ul>
          </li>
          <!-- Support -->
          <li
            class="dropdown">
            <a href="#" class="dropdown-toggle" style="color: white" data-toggle="dropdown" role="button" aria-haspopup="true">
              Support <span class="caret"></span>
            </a>
            <ul class="dropdown-menu multi-column two-column-menu">
              <div class="row">
                <div class="col-sm-6">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-question fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">Support</li>
                    <li><a href="/tools-support/support.html">Support Options</a></li>
                    <li><a href="https://open.concur.com/" target="_blank">Service Status</a></li>
                  </ul>
                </div>
                <div class="col-sm-6">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-bullhorn fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">Bulletin</li>
                    <li><a href="/tools-support/release-notes/index.html">Release Notes</a></li>
                  </ul>
                </div>
              </div>
            </ul>
          </li>
          <!-- Search -->
          <li>
            <a href="#" class="search">
              <span class="sr-only">Search</span>
              <i class="fas fa-search search-btn" style="color:white;"></i>
            </a>
            <div class="search-open">
              <div class="input-group animated fadeInDown">
                <form method="GET" action="/search.html" id="searchbox_000165422556797149853:qlbg8re_3tu">
                  <input value="000165422556797149853:qlbg8re_3tu" name="cx" type="hidden">
                  <input value="FORID:11" name="cof" type="hidden"> <!-- FORID values configure ad positions -->
                  <div class="input-group">
                    <label for="q" hidden>Search</label>
                    <input type="text" id="q" class="form-control" name="q" placeholder="Search">
                    <span class="input-group-btn">
                      <button type="submit" class="btn bright-blue">Go</button>
                    </span>
                  </div>
                </form>
              </div>
            </div>
          </li>
        </ul> <!-- /.navbar-nav -->
      </div> <!-- /.navbar-collapse -->
  </nav> <!-- /.navbar -->
</div>


    <div id="main-content"
         class="main-content">
      <div class="container-fluid content">
  <div class="row">
    <div id="left-navigation"
         class="col-md-2 left-navigation">
      







<ul class="list-group sidebar-nav-v1 hidden-print" id="sidebar-nav">





  
    <li class="list-group-item ">
      <a href="/api-reference/">API Reference</a>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle active">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-authentication">
        Authentication
      </a>
      <ul id="collapse-authentication" class="collapse in">
        
          <li >
            <a href="/api-reference/authentication/getting-started.html">Getting Started</a>
          </li>
        
          <li >
            <a href="/api-reference/authentication/apidoc.html">Authentication</a>
          </li>
        
          <li >
            <a href="/api-reference/authentication/company-auth.html">Company Level Authentication</a>
          </li>
        
          <li  class="active" >
            <a href="/api-reference/authentication/migrationguide.html">Migrating to Oauth2 Tokens</a>
          </li>
        
          <li >
            <a href="/api-reference/authentication/scopes.html">Scopes</a>
          </li>
        
          <li >
            <a href="/api-reference/authentication/oauth2-app-mgmt-tool.html">OAuth 2.0 Application Management Tool</a>
          </li>
        
          <li >
            <a href="/api-reference/authentication/company-refresh-tool.html">Company Request Token Self-Service Tool</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-budget-v4">
        Budget v4
      </a>
      <ul id="collapse-budget-v4" class="collapse ">
        
          <li >
            <a href="/api-reference/budget/getting-started.html">Getting Started</a>
          </li>
        
          <li >
            <a href="/api-reference/budget/v4.fiscal-year.html">Fiscal Year</a>
          </li>
        
          <li >
            <a href="/api-reference/budget/v4.budget-category.html">Budget Category</a>
          </li>
        
          <li >
            <a href="/api-reference/budget/v4.budget-header.html">Budget Item</a>
          </li>
        
          <li >
            <a href="/api-reference/budget/v4.budget-trackingfield.html">Budget Tracking Field</a>
          </li>
        
          <li >
            <a href="/api-reference/budget/v4.budget-adjustments.html">Budget Adjustments</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-callouts">
        Callouts
      </a>
      <ul id="collapse-callouts" class="collapse ">
        
          <li >
            <a href="/api-reference/callouts/callouts-application-connectors.html">Callouts and Application Connectors</a>
          </li>
        
          <li >
            <a href="/api-reference/callouts/delete-notification.html">Delete notification requests</a>
          </li>
        
          <li >
            <a href="/api-reference/callouts/event-notification.html">Event Notification Callout</a>
          </li>
        
          <li >
            <a href="/api-reference/callouts/fetch-attendee.html">Fetch Attendee Version 2 Callout</a>
          </li>
        
          <li >
            <a href="/api-reference/callouts/fetch-list.html">Fetch List Callout</a>
          </li>
        
          <li >
            <a href="/api-reference/callouts/get-notifications-status.html">Get notifications by status</a>
          </li>
        
          <li >
            <a href="/api-reference/callouts/launch-external-url-request.html">Launch an external URL request v1</a>
          </li>
        
          <li >
            <a href="/api-reference/callouts/v4.launch-external-url.html">Launch External URL - Expense v4</a>
          </li>
        
          <li >
            <a href="/api-reference/callouts/v4.launch-external-url-concur-request.html">Launch External URL - Request v4</a>
          </li>
        
          <li >
            <a href="/api-reference/callouts/post-event-notification.html">Post an event notification request</a>
          </li>
        
          <li >
            <a href="/api-reference/callouts/post-fetch-attendee.html">Post an attendee search request</a>
          </li>
        
          <li >
            <a href="/api-reference/callouts/post-list-search-request.html">Post a list search request</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-cards-v4">
        Cards v4
      </a>
      <ul id="collapse-cards-v4" class="collapse ">
        
          <li >
            <a href="/api-reference/cards/v4.cards-get-started.html">Getting Started</a>
          </li>
        
          <li >
            <a href="/api-reference/cards/v4.cards-endpoints.bulkrequest.html">Bulk Request</a>
          </li>
        
          <li >
            <a href="/api-reference/cards/v4.cards-endpoints.account.html">Credit Card Account</a>
          </li>
        
          <li >
            <a href="/api-reference/cards/v4.cards-endpoints.transaction.html">Credit Card Transaction</a>
          </li>
        
          <li >
            <a href="/api-reference/cards/v4.cards-endpoints.schemas.html">Schemas</a>
          </li>
        
      </ul>
    </li>

  



  
    <li class="list-group-item ">
      <a href="/api-reference/cash-advance/v4-1.cash-advance.html">Cash Advance v4.1</a>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-common">
        Common
      </a>
      <ul id="collapse-common" class="collapse ">
        
          <li >
            <a href="/api-reference/common/attendees/v4.admin-attendee-types.html">Attendee Types v4</a>
          </li>
        
          <li >
            <a href="/api-reference/common/attendees/v4.attendees.html">Attendees v4</a>
          </li>
        
          <li >
            <a href="/api-reference/common/connection-requests/connection-requests-resource.html">Connection Requests v3.2</a>
          </li>
        
          <li >
            <a href="/api-reference/common/extracts/v1.extracts.html">Extracts v1</a>
          </li>
        
          <li >
            <a href="/api-reference/common/lists/v4.list.html">List v4</a>
          </li>
        
          <li >
            <a href="/api-reference/common/list-item/v4.list-item.html">List Item v4</a>
          </li>
        
          <li >
            <a href="/api-reference/common/list-item/v4.list-item-bulk.html">List Item Bulk v4</a>
          </li>
        
          <li >
            <a href="/api-reference/common/locations/v3.locations.html">Locations v3</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-direct-connect-ground-transportation-v1">
        Direct Connect - Ground Transportation v1
      </a>
      <ul id="collapse-direct-connect-ground-transportation-v1" class="collapse ">
        
          <li >
            <a href="/api-reference/direct-connects/ground-transportation.html">Ground Transportation Direct Connect</a>
          </li>
        
          <li >
            <a href="/api-reference/direct-connects/ground-transportation/cancel-reservation.html">Cancel a reservation</a>
          </li>
        
          <li >
            <a href="/api-reference/direct-connects/ground-transportation/post-reservation-detail-search.html">Post a reservation detail search</a>
          </li>
        
          <li >
            <a href="/api-reference/direct-connects/ground-transportation/post-reservation-sell.html">Post a reservation sell request</a>
          </li>
        
          <li >
            <a href="/api-reference/direct-connects/ground-transportation/post-transportation-search.html">Post a transportation search</a>
          </li>
        
          <li >
            <a href="/api-reference/direct-connects/ground-transportation/update-reservation-supplier.html">Update reservation with supplier</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-direct-connect-hotel-service-v4">
        Direct Connect - Hotel Service v4
      </a>
      <ul id="collapse-direct-connect-hotel-service-v4" class="collapse ">
        
          <li >
            <a href="/api-reference/direct-connects/hotel-service-4/v4.getting-started.html">Getting Started</a>
          </li>
        
          <li >
            <a href="/api-reference/direct-connects/hotel-service-4/v4.endpoints.html">Endpoints</a>
          </li>
        
          <li >
            <a href="/api-reference/direct-connects/hotel-service-4/v4.change-notification-get-started.html">Hotel Service Change Notification</a>
          </li>
        
          <li >
            <a href="/api-reference/direct-connects/hotel-service-4/v4.single-pnr-solution.html">Single PNR Solution for CHS</a>
          </li>
        
          <li >
            <a href="/api-reference/direct-connects/hotel-service-4/v4.schemas.html">Schemas</a>
          </li>
        
      </ul>
    </li>

  



  
    <li class="list-group-item ">
      <a href="/api-reference/document-compliance-gateway/V4.document-compliance-gateway.html">Document Compliance Gateway v4</a>
    </li>

  



  
    <li class="list-group-item ">
      <a href="/api-reference/ess/v4.event-subscription.html">Event Subscription Service v4</a>
    </li>

  



  
    <li class="list-group-item ">
      <a href="/api-reference/expense/exchange-rate/v4.exchange-rate.html">Exchange Rate v4</a>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-expense-v1">
        Expense v1
      </a>
      <ul id="collapse-expense-v1" class="collapse ">
        
          <li >
            <a href="/api-reference/expense/expense-report/company-card-transaction-resource.html">Company Card Transactions v1.1</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/expense-delegators.html">Expense Delegators v1.1</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/expense-form-field.html">Expense Form Field v1.1</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/expense-form.html">Expense Form v1.1</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/payment-batch/v1.payment-batches.html">Payment Batches v1.1</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/integration-status.html">Integration Status</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/post-report-exceptions.html">Create an exception to a report</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/post-report-submission.html">Submit an expense report</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/post-report-workflow-action.html">Post an expense report workflow action</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-expense-v3">
        Expense v3
      </a>
      <ul id="collapse-expense-v3" class="collapse ">
        
          <li >
            <a href="/api-reference/expense/allocations/expense-allocations.html">Allocations v3</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/attendee-types/v3.attendee-types.html">Attendee Types v3</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/attendees/v3.attendees.html">Attendees v3</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/digital-tax-invoices/digital-tax-invoice.html">Digital Tax Invoices v3</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/v3.expense-entry-attendee.html">Entry Attendee Associations v3</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/expense-entry.html">Entries v3</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/expense-group-configurations.html">Expense Group Configurations v3</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/expense-itemization.html">Itemizations v3</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/v3.reports.html">Reports v3</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-expense-v4">
        Expense v4
      </a>
      <ul id="collapse-expense-v4" class="collapse ">
        
          <li >
            <a href="/api-reference/expense/expense-report/v4.allocations.html">Allocations v4</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/v4.expense-attendee-associations.html">Attendee Associations v4</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/v4.expense-cash-advance-associations.html">Cash Advance Associations v4</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/v4.comments.html">Comments v4</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/v4.exceptions.html">Exceptions v4</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-config/v4.expense.config.html">Expense Configuration v4</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/v4.expense-tax.html">Expense Tax v4</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/v4.expenses.html">Expenses v4</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/v4.reports.html">Reports v4</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/v4.request-associations.html">Request Associations v4</a>
          </li>
        
          <li >
            <a href="/api-reference/expense/expense-report/v4.workflows.html">Workflows v4</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-financial-integration-service-v4">
        Financial Integration Service v4
      </a>
      <ul id="collapse-financial-integration-service-v4" class="collapse ">
        
          <li >
            <a href="/api-reference/financial-integration/v4.financial-integration.html">Getting Started</a>
          </li>
        
          <li >
            <a href="/api-reference/financial-integration/v4.financial-integration-service-use-cases.html">Use Cases</a>
          </li>
        
          <li >
            <a href="/api-reference/financial-integration/v4.financial-integration-use-cases-extract-information.html">Use Cases Extract Information</a>
          </li>
        
          <li >
            <a href="/api-reference/financial-integration/v4.financial-documents-schema.html">Schemas</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-insights">
        Insights
      </a>
      <ul id="collapse-insights" class="collapse ">
        
          <li >
            <a href="/api-reference/insights/latest-bookings-resource.html">Latest Bookings</a>
          </li>
        
          <li >
            <a href="/api-reference/insights/opportunities-resource.html">Opportunities</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-invoice">
        Invoice
      </a>
      <ul id="collapse-invoice" class="collapse ">
        
          <li >
            <a href="/api-reference/invoice/v3.payment-request-digest.html">Retrieve Invoice Digests v3</a>
          </li>
        
          <li >
            <a href="/api-reference/invoice/v3.payment-request.html">Invoice v3</a>
          </li>
        
          <li >
            <a href="/api-reference/invoice/v4.invoice-pay.html">Invoice Pay v4</a>
          </li>
        
          <li >
            <a href="/api-reference/invoice/v4.invoice-payment-confirmation.html">Invoice Payment Confirmation v4</a>
          </li>
        
          <li >
            <a href="/api-reference/invoice/v3.purchase-order.html">Purchase Orders v3</a>
          </li>
        
          <li >
            <a href="/api-reference/invoice/v4.purchase-request-get-started.html">Purchase Request v4 - Get Started</a>
          </li>
        
          <li >
            <a href="/api-reference/invoice/v4.purchase-request-endpoints.html">Purchase Request v4 - Endpoints</a>
          </li>
        
          <li >
            <a href="/api-reference/invoice/v3.purchase-order-receipt.html">Purchase Orders Receipt v3</a>
          </li>
        
          <li >
            <a href="/api-reference/invoice/v3.sales-tax-validation.html">Sales Tax Validation v3</a>
          </li>
        
          <li >
            <a href="/api-reference/invoice/v3.1.vendor.html">Vendor v3.1</a>
          </li>
        
      </ul>
    </li>

  



  
    <li class="list-group-item ">
      <a href="/api-reference/expense/quick-expense/v4.quick-expense.html">Quick Expense v4</a>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-receipts">
        Receipts
      </a>
      <ul id="collapse-receipts" class="collapse ">
        
          <li >
            <a href="/api-reference/receipts/get-started.html">Get Started</a>
          </li>
        
          <li >
            <a href="/api-reference/receipts/endpoints.html">Endpoints</a>
          </li>
        
          <li >
            <a href="/api-reference/receipts/supported-receipt-types.html">Supported Receipt Types</a>
          </li>
        
          <li >
            <a href="/api-reference/receipts/sample-receipts.html">Sample Receipts</a>
          </li>
        
          <li >
            <a href="/api-reference/receipts/response-codes.html">Response Codes</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-receipt-image">
        Receipt Image
      </a>
      <ul id="collapse-receipt-image" class="collapse ">
        
          <li >
            <a href="/api-reference/image/v1.image.html">Image v1</a>
          </li>
        
          <li >
            <a href="/api-reference/image/v3.image.html">Image v3</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-request-v4">
        Request v4
      </a>
      <ul id="collapse-request-v4" class="collapse ">
        
          <li >
            <a href="/api-reference/request/v4.get-started.html">Getting Started</a>
          </li>
        
          <li >
            <a href="/api-reference/request/v4.endpoints.request-resources.html">Request</a>
          </li>
        
          <li >
            <a href="/api-reference/request/v4.endpoints.workflow-resources.html">Workflow</a>
          </li>
        
          <li >
            <a href="/api-reference/request/v4.endpoints.expected-expense-resources.html">Expected Expense</a>
          </li>
        
          <li >
            <a href="/api-reference/request/v4.endpoints.allocation-resources.html">Request Allocations</a>
          </li>
        
          <li >
            <a href="/api-reference/request/v4.endpoints.cashadvance-resources.html">Request Cash Advance</a>
          </li>
        
          <li >
            <a href="/api-reference/request/v4.endpoints.policy-resources.html">Request Policy</a>
          </li>
        
          <li >
            <a href="/api-reference/request/v4.endpoints.travel-agency-resources.html">Travel Agency</a>
          </li>
        
          <li >
            <a href="/api-reference/request/v4.endpoints.agency-proposal-resources.html">Agency Proposal</a>
          </li>
        
          <li >
            <a href="/api-reference/request/v4.endpoints.schemas.html">Schema</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-spend-documents-v4">
        Spend Documents v4
      </a>
      <ul id="collapse-spend-documents-v4" class="collapse ">
        
          <li >
            <a href="/api-reference/spend-documents/v4.spend-documents.html">Getting Started</a>
          </li>
        
          <li >
            <a href="/api-reference/spend-documents/get-receipt.html">Get Receipt</a>
          </li>
        
          <li >
            <a href="/api-reference/spend-documents/post-receipt.html">Upload a New Receipt</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-travel">
        Travel
      </a>
      <ul id="collapse-travel" class="collapse ">
        
          <li >
            <a href="/api-reference/travel/itinerary/itinerary.html">Itinerary v1 – Getting Started</a>
          </li>
        
          <li >
            <a href="/api-reference/travel/itinerary-tmc-thirdparty/index.html">Itinerary v1 Usage</a>
          </li>
        
          <li >
            <a href="/api-reference/travel/itinerary/trip/trip-resource.html">Trip v1.1</a>
          </li>
        
          <li >
            <a href="/api-reference/travel/itinerary/booking/booking-resource.html">Booking v1.1</a>
          </li>
        
          <li >
            <a href="/api-reference/travel/itinerary-v4/v4.itinerary.html">Itinerary v4</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-travel-allowance-v4">
        Travel Allowance v4
      </a>
      <ul id="collapse-travel-allowance-v4" class="collapse ">
        
          <li >
            <a href="/api-reference/travelallowance/v4.travelallowance-get-started.html">Getting Started</a>
          </li>
        
          <li >
            <a href="/api-reference/travelallowance/v4.travelallowance-itinerary-endpoints.html">Itinerary</a>
          </li>
        
          <li >
            <a href="/api-reference/travelallowance/v4.travelallowance-calculationresults-endpoints.html">Calculation Results</a>
          </li>
        
          <li >
            <a href="/api-reference/travelallowance/v4.travelallowance-configuration-endpoints.html">Configuration</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-travel-profile">
        Travel Profile
      </a>
      <ul id="collapse-travel-profile" class="collapse ">
        
          <li >
            <a href="/api-reference/travel-profile/v2.profile-service.html">Travel Profile v2</a>
          </li>
        
          <li >
            <a href="/api-reference/travel-profile/v2.profile-resource.html">Travel Profile v2 - Resource</a>
          </li>
        
          <li >
            <a href="/api-reference/travel-profile/v1.loyalty-program-resource.html">Travel Profile v1 - Loyalty Program</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-user">
        User
      </a>
      <ul id="collapse-user" class="collapse ">
        
          <li >
            <a href="/api-reference/user-provisioning/v4.user-provisioning.html">User Provisioning v4</a>
          </li>
        
          <li >
            <a href="/api-reference/profile/v4.identity.html">Identity v4</a>
          </li>
        
          <li >
            <a href="/api-reference/profile/v4.1.identity.html">Identity v4.1</a>
          </li>
        
          <li >
            <a href="/api-reference/user-provisioning/spend/v4.spend-user-get-started.html">Spend User v4 - Getting Started</a>
          </li>
        
          <li >
            <a href="/api-reference/user-provisioning/spend/v4.1.spend-form-fields.html">Spend Form Fields v4.1</a>
          </li>
        
          <li >
            <a href="/api-reference/user-provisioning/spend/v4.spend-role-code-definition.html">Spend Role Codes</a>
          </li>
        
          <li >
            <a href="/api-reference/user-provisioning/spend/v4.1.spend-user-retrieval.html">Spend User Retrieval v4.1</a>
          </li>
        
          <li >
            <a href="/api-reference/user-provisioning/travel/v4.travel-extension.html">Travel Extension v4</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-general">
        General
      </a>
      <ul id="collapse-general" class="collapse ">
        
          <li >
            <a href="/api-reference/http-status-codes.html">HTTP Status Codes</a>
          </li>
        
          <li >
            <a href="/api-reference/locale-codes.html">Locale Codes</a>
          </li>
        
          <li >
            <a href="/api-reference/spend-category-codes.html">Spend Category Codes</a>
          </li>
        
          <li >
            <a href="/api-reference/deprecated.html">Deprecated</a>
          </li>
        
      </ul>
    </li>

  



</ul>

    </div>
    <!--/col-md-3-->

    
      <div id="markdown-body"
           class="col-md-8 markdown-body">
        

        <h1 id="migrating-to-oauth2-tokens">Migrating to OAuth2 Tokens</h1>

<p>Existing applications that use the <a href="/api-reference/authentication/authorization-pre-2017.html">Pre-2017 Authorization (Deprecated)</a> framework need to move to support the new OAuth2 Bearer Tokens. Applications will need to migrate their existing users who already have connected to it to obtain new Oauth2 tokens without requiring users to reauthorize. This can be done by exchanging an old access token for a new refresh token.</p>

<h2 id="base-uris-">Base URIs <a name="base_uris"></a></h2>

<p>When making API calls, the appropriate base URI for the user’s geolocation should be used. See the <a href="/platform/base-uris.html">Base URIs</a> page for the full list.</p>

<h2 id="exchanging-a-token-">Exchanging a Token <a name="exchangetoken"></a></h2>

<p>In order to support new OAuth2, applications need to exchange old access token for new <code class="language-plaintext highlighter-rouge">accessToken</code> and <code class="language-plaintext highlighter-rouge">refreshToken</code> pair. Once obtained, applications should store these <code class="language-plaintext highlighter-rouge">refreshTokens</code> as part of users authorization data.</p>

<p>The new OAuth2 <code class="language-plaintext highlighter-rouge">accessToken</code> has a one hour lifetime. Once expired, applications would need to call OAuth2’s <code class="language-plaintext highlighter-rouge">/v0/token</code> endpoint using a <code class="language-plaintext highlighter-rouge">refresh_grant</code>, passing in the user’s <code class="language-plaintext highlighter-rouge">refreshtoken</code> to obtain a fresh <code class="language-plaintext highlighter-rouge">accessToken</code>.</p>

<p>This is significantly different from how the deprecated /net2/OAuth2’s method of handling access tokens. Partner’s would have to store the new OAuth2 <code class="language-plaintext highlighter-rouge">refreshToken</code> instead of the old access token. Before making a call to any of the new v4 APIs, it is advisable to request for a new <code class="language-plaintext highlighter-rouge">accessToken</code> before making the API call.</p>

<p><strong>Step 1: Obtain Application Token</strong>
Clients can exchange OLD tokens for NEW OAuth2 tokens by calling the <code class="language-plaintext highlighter-rouge">exchangeRefreshToken/me</code> endpoint. In order to call this endpoint, you would first need to obtain an Application Token by calling the <code class="language-plaintext highlighter-rouge">/v0/token</code> endpoint with the <a href="https://developer.concur.com/api-reference/authentication/apidoc.html#client_credentials">client_credentials</a> grant.</p>

<p>The endpoint also supports a parameter called “returnType=companyToken”  This parameter allows a partner who already has what is known as a “WSAdmin” token for a client, to exchange that token for a Company level refresh token.</p>

<p><strong>Step 2: Call exchangeRefreshToken</strong></p>

<p><code class="language-plaintext highlighter-rouge">POST /appmgmt/v0/legacyApps/{OLDConsumerKey}/exchangeRefreshToken/me</code></p>

<p>If you are exchanging a WSAdmin token for a new Company level refresh token:</p>

<p><code class="language-plaintext highlighter-rouge">POST /appmgmt/v0/legacyApps/{OLDConsumerKey}/exchangeRefreshToken/me?returnType=companyToken</code></p>

<p><strong>Request Header</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Format</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Authorization</code></td>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td><code class="language-plaintext highlighter-rouge">Bearer &lt;accessToken&gt;</code></td>
      <td><strong>Required</strong> The NEW client_credentials accessToken.</td>
    </tr>
  </tbody>
</table>

<p><strong>Request Body</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Format</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">token</code></td>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td> </td>
      <td><strong>Required</strong> The OLD refreshToken</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">secret</code></td>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td> </td>
      <td><strong>Required</strong> The NEW application client_secret</td>
    </tr>
  </tbody>
</table>

<p>Sample Curl:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s1">'Authorization: Bearer &lt;accessToken&gt;'</span> <span class="nt">-d</span> <span class="s1">'{"token": "1_oaCof444CaiNXg1FFG$Perr19qIo", "secret": "12345"}'</span> <span class="nt">-X</span> POST https://us.api.concursolutions.com/appmgmt/v0/legacyApps/Bwu0mvTHtKYAnBb3Pgu9AW/exchangeRefreshToken/me
</code></pre></div></div>

<p>successful call, responds with</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8c844478-745c-4c45-adf7-1e2777a50dbf"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479407196809</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expired"</span><span class="p">:</span><span class="w"> </span><span class="mi">1494959196809</span><span class="p">,</span><span class="w">
  </span><span class="nl">"scopes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"EXPRPT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"LIST"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"BANK"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CCARD"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">userid</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">7934467f-dcd1-4631-ba34-3ebd28343e8f</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">cid</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">3a55c75e-ac1e-4515-845c-0a4978452828</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ptype</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">user</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">userURI</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">https://us.api.concursolutions.com/profile-service/v1/users/7934467f-dcd1-4631-ba34-3ebd28343e8f</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">scope</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">EXPRPT LIST BANK CCARD</span><span class="se">\"</span><span class="s2">}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Sample Curl for WSAdmin token exchange for Company level refreh token:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s1">'Authorization: Bearer &lt;accessToken&gt;'</span> <span class="nt">-d</span> <span class="s1">'{"token": "1_oaCof444CaiNXg1FFG$Perr19qIo", "secret": "12345"}'</span> <span class="nt">-X</span> POST https://us.api.concursolutions.com/appmgmt/v0/legacyApps/Bwu0mvTHtKYAnBb3Pgu9AW/exchangeRefreshToken/me?returnType<span class="o">=</span>companyToken
</code></pre></div></div>

<p>successful call, responds with</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8c844478-745c-4c45-adf7-1e2777a50dbf"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479407196809</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expired"</span><span class="p">:</span><span class="w"> </span><span class="mi">1494959196809</span><span class="p">,</span><span class="w">
  </span><span class="nl">"scopes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"EXPRPT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"LIST"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"BANK"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CCARD"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">userid</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">7934467f-dcd1-4631-ba34-3ebd28343e8f</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">cid</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">3a55c75e-ac1e-4515-845c-0a4978452828</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ptype</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">company</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">userURI</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">https://us.api.concursolutions.com/profile-service/v1/users/7934467f-dcd1-4631-ba34-3ebd28343e8f</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">scope</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">EXPRPT LIST BANK CCARD</span><span class="se">\"</span><span class="s2">}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Step 3: Obtain New Access Token</strong></p>

<p>Once you have the NEW <code class="language-plaintext highlighter-rouge">refreshToken</code> from the response (<code class="language-plaintext highlighter-rouge">8c844478-745c-4c45-adf7-1e2777a50dbf</code>) you can then proceed to call <code class="language-plaintext highlighter-rouge">/v0/token</code> using the refresh grant to obtain a NEW OAuth2 <code class="language-plaintext highlighter-rouge">accessToken</code>.</p>

<p>Sample Curl:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://us.api.concursolutions.com/oauth2/v0/token'</span> <span class="nt">-d</span> <span class="s1">'client_id=3a55c75e-ac1e-4515-845c-0a4978452828&amp;client_secret=12345&amp;grant_type=refresh_token&amp;refresh_token=8c844478-745c-4c45-adf7-1e2777a50dbf'</span>
</code></pre></div></div>

<p>successful call, responds with:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
  </span><span class="nl">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPRPT LIST BANK CCARD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJ0...demo...eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IjE0NTU2MTQzNDYifQ.eyJjb25jdXIuc2NvcGVzIjpbIkVYUFJQVCIsIkxJU1QiLCJCQU5LIiwiQ0NBUkQiXSwiYXVkIjoiKiIsImNvbmN1ci5wcm9maWxlIjoiaHR0cHM6Ly91cy1ycWEzLmFwaS5jb25jdXJzb2x1dGlvbnMuY29tL3Byb2ZpbGUvdjEvcHJpY2lwYWxzLzc5NmI0NjdmLWRjZDEtNDYzMS1iYTg1LTNlYmQyOGIzNmU4ZiIsImNvbmN1ci52ZXJzaW9uIjoyLCJjb25jdXIudHlwZSI6InVzZXIiLCJjb25jdXIuYXBwIjoiaHR0cHM6Ly91cy1ycWEzLmFwaS5jb25jdXJzb2x1dGlvbnMuY29tL3Byb2ZpbGUvdjEvYXBwcy9lMDEwZTI1ZC1iNGNlLTRjZTMtYTdlNiLCJzdWIiOiI3OTZiNDY3Zi1kY2QxLTQ2MzEtYmE4NS0zZWJkMjhiMzZlOGYiLCJpc3MiOiJodHRwczovL3VzLXJxYTMuYXBpLmNvbmN1cnNvbHV0aW9ucy5jb20iLCJleHAiOjE0Nzk0MTU4NjksImxlZ2FjeV9hcHBsaWNhdGlvbl9pZCI6MTUwMDA2MzY1OSwidXNlclVSSSI6Imh0dHBzOi8vdXMtcnFhMy5hcGkuY29uY3Vyc29sdXRpb25zLmNvbS9wcm9maWxlLXNlcnZpY2UvdjEvdXNlcnMvNzk2YjQ2N2YtZGNkMS00NjMxLWJhODUtM2ViZDI4YjM2ZThmIiwidXNlcnV1aWQiOiI3OTZiNDY3Zi1kY2QxLTQ2MzEtYmE4NS0zZWJkMjhiMzZlOGYiLCJuYmYiOjE0Nzk0MTIyNjksImh0dHBzOi8vYXBpLmNvbmN1cnNvbHV0aW9ucyiaHR0cHM6Ly91cy1ycWEzLmFwaS5jb25jdXJzb2x1dGlvbnMuY29tL3Byb2ZpbGUvdjEvYXBwcy9lMDEwZTI1ZC1iNGNlLTRjZTMtYTdlNC1iNjcwY2IxYWRjYjAiLCJodHRwczovL2FwaS5jb25jdXJzb2x1dGlvbnMuY29tL3Njb3BlcyI6WyJFWFBSUFQiLCJMSVNUIiwiQkFOSyIsIkNDQVJEIl0sImlhdCI6MTQ3OTQxMjI2OX0.I4EeqKZbpfFonitGBZnLBb20NwMjZNNp5e1d3-BRsepEcJSVCVYIV9HAB2EkkopvoLJsAittiZgD0iDwuh2WVgUt_c4QGzNc_-rXRtCIeKyPQRvxUZNQ7y5RTqEQFNo7hrtXiNZ-yV30zlbijP-12XU5Cu4n2VXgRKxvcCUr5j0RcovUc6O0aOR7VTzj4ZbiDdijOEtmKWGluAYyfIlz8XF2aErAB5Jff2fr9UvgHgtbleYV7eBSesvd9hJEk4S-OAtmFoJwLDECLtLcBKyeHnPEe7LmkLYShcflWG2_tYk4ysPIMG6ne5kRNxJKsDbkMItjpXhujBEGi7YIPWtFWQ"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31456dcd-b46a-4292-b2d3-f97033338487"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"geolocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="response-codes-">Response Codes <a name="response_codes"></a></h2>

<h5 id="http-status-returned-by-exchangeaccesstoken">HTTP Status returned by exchangeAccessToken</h5>

<table>
  <thead>
    <tr>
      <th>HTTP Status</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>200</td>
      <td>OK - Successful call, response is in body.</td>
    </tr>
    <tr>
      <td>400</td>
      <td>Bad Request - see list of responses below.</td>
    </tr>
    <tr>
      <td>404</td>
      <td>Not Found</td>
    </tr>
    <tr>
      <td>500</td>
      <td>Server Error, error message is in body.</td>
    </tr>
    <tr>
      <td>503</td>
      <td>Server Timed Out, error message is in body.</td>
    </tr>
  </tbody>
</table>

<h5 id="exchangeaccesstoken-response-codes">exchangeAccessToken Response Codes</h5>

<table>
  <thead>
    <tr>
      <th>CODE</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>OK</td>
      <td>OK - Successful call, response is in body.</td>
    </tr>
    <tr>
      <td>INVALIDSCOPES</td>
      <td>One or more scopes requested are not a subset of the allowed scopes.</td>
    </tr>
    <tr>
      <td>INVALIDAPP</td>
      <td>Application is invalid</td>
    </tr>
    <tr>
      <td>INVALIDTOKEN</td>
      <td>Bad or expired token</td>
    </tr>
    <tr>
      <td>UNAUTHORIZED</td>
      <td>Invalid credentials</td>
    </tr>
  </tbody>
</table>

<h5 id="http-status-returned-by-oauth2">HTTP Status returned by OAuth2</h5>

<table>
  <thead>
    <tr>
      <th>HTTP Status</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>200</td>
      <td>OK - Successful call, response is in body.</td>
    </tr>
    <tr>
      <td>400</td>
      <td>Bad Request <code class="language-plaintext highlighter-rouge">(error, error_description, code)</code></td>
    </tr>
    <tr>
      <td>401</td>
      <td>Unauthorized <code class="language-plaintext highlighter-rouge">(error, error_description, code)</code></td>
    </tr>
    <tr>
      <td>403</td>
      <td>Forbidden <code class="language-plaintext highlighter-rouge">(error, error_description, code)</code></td>
    </tr>
    <tr>
      <td>404</td>
      <td>Not Found <code class="language-plaintext highlighter-rouge">(error, error_description, code)</code></td>
    </tr>
    <tr>
      <td>500</td>
      <td>Server Error, error message is in body.</td>
    </tr>
    <tr>
      <td>503</td>
      <td>Server Timed Out, error message is in body.</td>
    </tr>
  </tbody>
</table>

<p>4xx class errors have a JSON response with the following fields</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;number&gt;</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;error&gt;</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error_description"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;error_description&gt;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h5 id="token">/token</h5>

<table>
  <thead>
    <tr>
      <th>Code</th>
      <th>Error</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>5</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_grant</code></td>
      <td>Incorrect credentials. Please Retry</td>
    </tr>
    <tr>
      <td>10</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_grant</code></td>
      <td>Account is disabled. Please contact support</td>
    </tr>
    <tr>
      <td>11</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_grant</code></td>
      <td>Account is disabled. Please contact support</td>
    </tr>
    <tr>
      <td>12</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_grant</code></td>
      <td>Logon Denied. Please contact support</td>
    </tr>
    <tr>
      <td>13</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_grant</code></td>
      <td>Logon Denied. Please contact support</td>
    </tr>
    <tr>
      <td>14</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_grant</code></td>
      <td>Account Locked. Please contact support</td>
    </tr>
    <tr>
      <td>16</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>user lives elsewhere</td>
    </tr>
    <tr>
      <td>19</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_grant</code></td>
      <td>Incorrect credentials. Please Retry</td>
    </tr>
    <tr>
      <td>20</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_grant</code></td>
      <td>Logon Denied. Please contact support (typically due to IP restriction)</td>
    </tr>
    <tr>
      <td>51</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>username was not supplied</td>
    </tr>
    <tr>
      <td>52</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>password was not supplied</td>
    </tr>
    <tr>
      <td>53</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_client</code></td>
      <td>company is not enabled for this client</td>
    </tr>
    <tr>
      <td>54</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_scope</code></td>
      <td>requested scope exceeds granted scope</td>
    </tr>
    <tr>
      <td>55</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>we don’t know this email</td>
    </tr>
    <tr>
      <td>56</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td><code class="language-plaintext highlighter-rouge">otp</code> was not supplied</td>
    </tr>
    <tr>
      <td>57</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td><code class="language-plaintext highlighter-rouge">channel_type</code> missing</td>
    </tr>
    <tr>
      <td>58</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td><code class="language-plaintext highlighter-rouge">channel_handle</code> missing</td>
    </tr>
    <tr>
      <td>59</td>
      <td><code class="language-plaintext highlighter-rouge">access_denied</code></td>
      <td>client disabled</td>
    </tr>
    <tr>
      <td>60</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_grant</code></td>
      <td>these are not the grants you are looking for</td>
    </tr>
    <tr>
      <td>61</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_client</code></td>
      <td>client not found</td>
    </tr>
    <tr>
      <td>62</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td><code class="language-plaintext highlighter-rouge">client_id</code> was not supplied</td>
    </tr>
    <tr>
      <td>63</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td><code class="language-plaintext highlighter-rouge">client_secret</code> was not supplied</td>
    </tr>
    <tr>
      <td>64</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_client</code></td>
      <td>Incorrect credentials. Please Retry</td>
    </tr>
    <tr>
      <td>65</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td><code class="language-plaintext highlighter-rouge">grant_type</code> was not supplied</td>
    </tr>
    <tr>
      <td>80</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>invalid channel type</td>
    </tr>
    <tr>
      <td>81</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>bad channel handle</td>
    </tr>
    <tr>
      <td>83</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>otp not found</td>
    </tr>
    <tr>
      <td>84</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>fact verification failed</td>
    </tr>
    <tr>
      <td>85</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>otp verification failed</td>
    </tr>
    <tr>
      <td>100</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>backend does not know about this username</td>
    </tr>
    <tr>
      <td>101</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>code was not supplied</td>
    </tr>
    <tr>
      <td>102</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td><code class="language-plaintext highlighter-rouge">redirect_uri</code> was not supplied</td>
    </tr>
    <tr>
      <td>103</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>code is bad or expired</td>
    </tr>
    <tr>
      <td>104</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_grant</code></td>
      <td><code class="language-plaintext highlighter-rouge">redirect_uri</code> does not match the previous grant</td>
    </tr>
    <tr>
      <td>105</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_grant</code></td>
      <td>this grant was not issued to you!</td>
    </tr>
    <tr>
      <td>106</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td><code class="language-plaintext highlighter-rouge">refresh_token</code> was not supplied</td>
    </tr>
    <tr>
      <td>107</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>refresh disallowed for app</td>
    </tr>
    <tr>
      <td>108</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_grant</code></td>
      <td>bad or expired refresh token</td>
    </tr>
    <tr>
      <td>109</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td><code class="language-plaintext highlighter-rouge">loginid</code> was not supplied</td>
    </tr>
    <tr>
      <td>115</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>unauthenticated client will not be issued token!</td>
    </tr>
    <tr>
      <td>117</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>nonce is mandatory for this <code class="language-plaintext highlighter-rouge">response_type</code></td>
    </tr>
    <tr>
      <td>118</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>display is invalid</td>
    </tr>
    <tr>
      <td>119</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>prompt is invalid</td>
    </tr>
    <tr>
      <td>119</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>prompt must be set to consent for <code class="language-plaintext highlighter-rouge">offline_access</code></td>
    </tr>
    <tr>
      <td>120</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td><code class="language-plaintext highlighter-rouge">credtype</code> is invalid</td>
    </tr>
    <tr>
      <td>121</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td><code class="language-plaintext highlighter-rouge">login_type</code> is invalid</td>
    </tr>
    <tr>
      <td>122</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>proxies supplied are invalid</td>
    </tr>
    <tr>
      <td>123</td>
      <td><code class="language-plaintext highlighter-rouge">invalid_request</code></td>
      <td>principal is disabled</td>
    </tr>
  </tbody>
</table>

      </div>
      <!--/col-md-8-->
      
      <div id="markdown-toc"
           class="col-md-2 markdown-toc">
        <div class="markdown-toc-header">
    <h4>On this page</h4>
</div>
<div class="markdown-toc-content">
</div>

      </div>
      <!--/col-md-1-->
      
    </div>
    <!--/row-->
  </div>
  <!--/container-->

  <!-- TOCBOT -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>

<script>
  tocbot.init({
    // Where to render the table of contents.
    tocSelector: '.markdown-toc-content',
    // Where to grab the headings to build the table of contents.
    contentSelector: '.markdown-body',
    // Which headings to grab inside of the contentSelector element.
    headingSelector: 'h1, h2',
    // For headings inside relative or absolute positioned containers within content.
    hasInnerContainers: false,
  });
</script>


    </div>

    <footer class="hidden-print"
        id="footer">
  <div class="col-md-8 footer-copyright">
    <p>
      &copy;
      <script type="text/javascript">
        document.write(new Date().getFullYear());
      </script>
      All Rights Reserved.
      <a href="https://www.concur.com/en-us/privacy-policy">Privacy Policy</a> |
      <a href="/terms-of-use-2021.html">Terms of Use</a> |
      <a href="/tools-support/deprecation-policy.html">API Deprecation Policy</a> |
      <a href="/legal-disclosure.html">Legal Disclosure</a> |
      <a href="https://github.com/SAP-docs/preview.developer.concur.com/blob/main/src/api-reference/authentication/migrationguide.markdown">Edit this page on GitHub</a>
    </p>
  </div>

  <!-- Social Links -->
  <div class="col-md-4 footer-social">
    <ul class="list-inline social-icons">
      <li>
        <a href="https://www.facebook.com/SAPConcur"
           target="_blank">
          <span class="sr-only">Facebook</span>
          <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
      <li>
        <a href="https://www.linkedin.com/company/5822"
           target="_blank">
          <span class="sr-only">LinkedIn</span>
          <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-linkedin-in fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
      <li>
        <a href="https://twitter.com/sapconcur"
           target="_blank">
          <span class="sr-only">Twitter</span>
          <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
      <li>
        <a href="https://www.youtube.com/playlist?list=PLLNSVdjqNPVseaDkR5hSF4CDjnlLK7_nq"
           target="_blank">
          <span class="sr-only">Youtube</span>
          <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
    </ul>
  </div>
  <!-- End Social Links -->
</footer>
<!--/.footer-->

  </div>
  <!--/wrapper-->

  <!-- JS Global Compulsory -->
<script type="text/javascript" src="/assets/plugins/jquery/jquery.min.js"></script>
<script type="text/javascript" src="/assets/plugins/jquery/jquery-migrate.min.js"></script>
<script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script>

<!-- Adobe Analytics Global-->
<script src="https://assets.adobedtm.com/e1226b306979/aeb854337dc8/launch-85c98625c1e8.min.js" async></script>

<!-- Swagger -->
<!-- <script src="/swagger-ui/lib/jquery-1.8.0.min.js" type="text/javascript"></script> -->



<script>
  var replacementURL = "preview.developer.concur.com/api-explorer-proxy";
</script>



<!-- JS Implementing Plugins -->
<script type="text/javascript" src="/assets/plugins/back-to-top.js"></script>
<!-- JS Page Level -->
<script type="text/javascript" src="/assets/js/app.js"></script>
<script type="text/javascript">
  jQuery(document).ready(function() {
    App.init();
  });
</script>

<script>
  var oHeader = document.getElementById("header-navbar");
  var oContent = document.getElementById("main-content");
  var oFooter = document.getElementById("footer");

  // Set content overall height
  var iNewHeight = oContent.offsetHeight - (oHeader.offsetHeight + oFooter.offsetHeight);
  var sHeight = "" + iNewHeight + "px";
  oContent.style.height = sHeight;

  // Set Triple component heights.
  // var oBreadcrumb = document.getElementById("breadcrumbs");
  var oLeftNav = document.getElementById("left-navigation");
  var oMDContent = document.getElementById("markdown-body");
  var oMDToc = document.getElementById("markdown-toc");
  var iViewWidth = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)

  // Widths are 2-8-2 or 2-10 if no MDToc
  var sWidth;
  if (iViewWidth < 989) {
    if (!!oLeftNav) {
      oLeftNav.style.height = 100;
      sWidth = "" + (window.innerWidth * 0.950) + "px";
      oLeftNav.style.maxWidth = sWidth;
    }
  } else {
    if (!!oLeftNav) {
      oLeftNav.style.height = sHeight;
      sWidth = "" + (window.innerWidth * 0.166) + "px";
      oLeftNav.style.maxWidth = sWidth;
    }
    if (!!oMDContent) {
      oMDContent.style.height = sHeight;
      if (!!oMDToc) {
        // 8 / 12
        sWidth = "" + (window.innerWidth *0.66) + "px";
        oMDContent.style.maxWidth = sWidth;
      } else {
        // 10 / 12
        oMDContent.style.maxWidth = window.innerWidth * 0.833;
        sWidth = "" + (window.innerWidth * 0.833) + "px";
        oMDContent.style.maxWidth = sWidth;
      }
    }
    if (!!oMDToc) {
      oMDToc.style.height = sHeight;
      sWidth = "" + (window.innerWidth * 0.166) + "px";
      oMDToc.style.maxWidth = sWidth;
    }
  }
</script>


</body>

</html>
