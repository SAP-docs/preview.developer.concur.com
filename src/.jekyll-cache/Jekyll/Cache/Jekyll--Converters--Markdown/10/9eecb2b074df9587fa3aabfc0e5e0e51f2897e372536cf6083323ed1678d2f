I"»L<div class="alert alert-danger">
  <p><strong>This API has been deprecated.</strong></p>
  
  
  <p>
</p>
  <p>Partners and customers using a deprecated API should contact SAP Concur and discuss moving to the latest versions.</p>
  <p>Learn more in the <a href="/tools-support/deprecation-policy.html">API Lifecycle &amp; Deprecation Policy.</a></p>
</div>

<p>Creates or updates one or more attendee records for the specified expense entry. Attendees are additional people that benefitted from this expense.</p>

<p><strong>Attendee External ID Considerations</strong></p>

<p>Attendees can be uniquely identified outside of Concur by their External ID. This value can originate from the attendee system of record, or can be generated by Concur, depending on configuration. In order to manage (add or update) attendees using Concur web services, the attendee must have an External ID value.</p>

<p>Attendees that are shared in Concur (owned by the System) usually have External ID values, which are established when the attendee was added to the system. Developers that work with these attendees should use the required query parameters in the request URI, and should not include the optional AttendeeID query parameter. The External ID value in the request will identify the attendee. These requests must include the SystemOwner element, set to Yes, to indicate that the attendee is part of a shared list.</p>

<p>Attendees that are privately owned or part of shared lists that allow manual addition (not recommended) may not have an External ID, so they cannot initially be uniquely identified by that value. Developers that need to update private attendees (owned by the report owner) or shared attendees that do not have External IDs should use the optional AttendeeID query parameter to identify the attendee. These developers must  provide an External ID value, which they can use to identify the attendee in future requests. For private attendees, this request should include the SystemOwner element, set to No, to indicate that the attendees are private. For shared attendees, this request should include the SystemOwner element, set to Yes.</p>

<p><strong>NOTES:</strong></p>

<ul>
  <li>Posting expense report information is a multi-stage process. Refer to the <a href="/api-reference/expense/expense-report/v3.reports.html">Expense Reports v3</a> documentation for the steps required to post new expense reports and entries.</li>
</ul>

<h3 id="supported-content-types">Supported Content Types</h3>

<ul>
  <li>application/xml</li>
</ul>

<h2 id="post-attendees-to-an-expense-report-entry">Post attendees to an expense report entry</h2>

<h3 id="request">Request</h3>

<h4 id="headers">Headers</h4>

<ul>
  <li><a href="https://tools.ietf.org/html/rfc7235#section-4.2">RFC 7235 Authorization</a> - Authorization header with OAuth token for valid Concur user. The OAuth Consumer must have one of the following roles to post attendees for expenses in reports that they do not own:
    <ul>
      <li><strong>Web Services Admin</strong> for Professional</li>
      <li><strong>Can Administer</strong> for Standard</li>
    </ul>
  </li>
</ul>

<h4 id="parameters">Parameters</h4>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>reportId</td>
      <td><strong>Required</strong> The unique identifier for the expense report</td>
    </tr>
    <tr>
      <td>entryId/Attendees</td>
      <td><strong>Required</strong> The unique identifier for the expense entry and the Attendees keyword</td>
    </tr>
    <tr>
      <td>attendeeId</td>
      <td>The unique identifier for the attendee. Only used in certain situations when updating an existing attendee. If the developer does not know the External ID for the Attendee, they should use this query parameter</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">reportId</code> value is returned by the <a href="/api-reference/expense/expense-report/v2.reports.html">Get List of Reports</a> function, and as part of the <strong>Report-Details-Url</strong> element of the <a href="/api-reference/expense/expense-report/v1dot1.reports.html">Expense Report Header v1.1</a> function. The entryId value is returned in the <strong>ReportKey</strong> element of the <a href="/api-reference/expense/expense-report/expense-report-get.html">Get  Report Details</a> function.</li>
  <li>The <code class="language-plaintext highlighter-rouge">attendeeId</code> value is returned in the <strong>AttendeeKey</strong> element of the <a href="/api-reference/expense/expense-report/expense-report-get.html">Get Report Details</a> function, and as part of the <strong>Attendee-Details-Url</strong> value returned by this function.</li>
</ul>

<h5 id="uri-template">URI Template</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.concursolutions.com/api/expense/expensereport/v1.1/report/{reportId}/entry/{entryId}/Attendees
https://www.concursolutions.com/api/expense/expensereport/v1.1/report/{reportId}/entry/{entryId}/Attendees/{attendeeId}
</code></pre></div></div>

<h4 id="payload">Payload</h4>

<p>This request contains an <strong>Attendees</strong> parent element with an <strong>Attendee</strong> element for each included attendee. The update action only allows one attendee per request. The <strong>Attendee</strong> element contains the following child elements:</p>

<table>
  <thead>
    <tr>
      <th>Element Name</th>
      <th>Required (must contain value)?</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>AttendeeType</td>
      <td>Y</td>
      <td>The attendee type code that Concur uses to identify attendees. 8 alpha characters. Clients can add their own custom attendee type codes. The standard attendee type codes are: BUSGUEST, for business guests and SPOUSE, for the employeeâ€™s spouse. Use the <a href="/api-reference/expense/attendee-types/v1.attendee-types.html">Attendee Types v1</a> function of the Attendee List web service to get the full list of available types. Maximum 8 characters.</td>
    </tr>
    <tr>
      <td>Amount</td>
      <td>N</td>
      <td>The amount of the expense that is associated with this attendee. If the attendee amounts do not add up to the full expense entry amount, the user will have to correct the entry in the Concur UI before submitting the report.</td>
    </tr>
    <tr>
      <td>LastName</td>
      <td>Y</td>
      <td>The attendeeâ€™s last name. Maximum 132 characters.</td>
    </tr>
    <tr>
      <td>FirstName</td>
      <td>Depends on configuration</td>
      <td>The attendeeâ€™s first name. Maximum 50 characters.</td>
    </tr>
    <tr>
      <td>Title</td>
      <td>Depends on configuration</td>
      <td>The attendeeâ€™s job title. Maximum 32 characters.</td>
    </tr>
    <tr>
      <td>ExternalId</td>
      <td>Y</td>
      <td>The unique identifier for the attendee, usually provided by the clientâ€™s external system of record. Maximum 48 characters.</td>
    </tr>
    <tr>
      <td>Company</td>
      <td>Depends on configuration</td>
      <td>The attendeeâ€™s company name. Maximum 150 characters.</td>
    </tr>
    <tr>
      <td>Custom1 through Custom20</td>
      <td>Depends on configuration</td>
      <td>The custom fields on the Expense Attendee form. May be required depending on configuration.</td>
    </tr>
    <tr>
      <td>CrnCode</td>
      <td>Y</td>
      <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">3-letter ISO 4217 currency code</a> for the expense transaction amount. Example: USD. Maximum 3 characters.</td>
    </tr>
    <tr>
      <td>SystemOwner</td>
      <td>N</td>
      <td><em>For new attendees</em>: When set to Yes, the attendee owner is set to System. This owner is required for shared attendee lists. When not set to Yes, the attendee owner is set to the report owner. <br /><br /> <em>For existing attendees</em>: Must be set to Yes to update an existing system-owned attendee. The  attendee owner for non-system-owned attendees will be set to System.  When  set to No, the attendee owner is compared to the report owner. If the report owner and attendee owner match, the attendee is updated. If the report owner and attendee owner do not match, the attendee is not updated.</td>
    </tr>
    <tr>
      <td>AssociatedAttendeesCount</td>
      <td>N</td>
      <td>The number of attendees that are not named but are associated with this attendee. This number is included in the total count of attendees for the expense.</td>
    </tr>
    <tr>
      <td>UpdateExisting</td>
      <td>N</td>
      <td>Whether the request should update an attendee with a matching External ID. If set to false, the request will NOT update a matching attendee. If not provided, or set to true, the request will update a matching attendee. Format: true/false</td>
    </tr>
  </tbody>
</table>

<h3 id="response">Response</h3>

<h4 id="status-codes">Status Codes</h4>

<p>See <a href="/api-reference/http-status-codes.html">HTTP Status Codes</a></p>

<h3 id="payload-1">Payload</h3>

<p>This request will return an <strong>attendee-batch-result</strong> parent element with the following child elements:</p>

<table>
  <thead>
    <tr>
      <th>Element Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>records-succeeded</td>
      <td>The number of attendee records that were successfully added/updated.</td>
    </tr>
    <tr>
      <td>records-failed</td>
      <td>The number of attendee records that failed.</td>
    </tr>
    <tr>
      <td>AttendeeInfoList</td>
      <td>This parent element contains an <strong>AttendeeStatus</strong> element for each successful attendee record. The <strong>AttendeeStatus</strong> element contains the following child elements:</td>
    </tr>
    <tr>
      <td>Index</td>
      <td>The record number of the attendee record.</td>
    </tr>
    <tr>
      <td>Status</td>
      <td>The status of the request.</td>
    </tr>
    <tr>
      <td>Attendee-Details-Url</td>
      <td>The URL to access the details for this attendee.</td>
    </tr>
    <tr>
      <td>errors</td>
      <td>This parent element contains an <strong>error</strong> element for each failed attendee record. The <strong>errors</strong> parent element contains one or more error child elements.</td>
    </tr>
  </tbody>
</table>

<h4 id="error">Error</h4>

<table>
  <thead>
    <tr>
      <th>Element Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Index</td>
      <td>The record number of the attendee record.</td>
    </tr>
    <tr>
      <td>message</td>
      <td>The error message.</td>
    </tr>
  </tbody>
</table>

<h3 id="examples">Examples</h3>

<h4 id="request-1">Request</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST https://www.concursolutions.com/api/expense/expensereport/v1.1/report/nxxKgLlnROz3zHJBCRksaas23dsfs/entry/n7We3qWw99u1KoWTMaLhSC<span class="nv">$pXBYzQ1UDhn</span>/Attendees
Authorization: OAuth <span class="o">{</span>token<span class="o">}</span>
</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Attendees</span> <span class="na">xmlns=</span><span class="s">"http://www.concursolutions.com/api/expense/expensereport/2011/03"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Attendee&gt;</span>
    <span class="nt">&lt;AttendeeType&gt;</span>BUSGUEST<span class="nt">&lt;/AttendeeType&gt;</span>
    <span class="nt">&lt;LastName&gt;</span>Davis<span class="nt">&lt;/LastName&gt;</span>
    <span class="nt">&lt;FirstName&gt;</span>Pat<span class="nt">&lt;/FirstName&gt;</span>
    <span class="nt">&lt;Title&gt;</span>CFO<span class="nt">&lt;/Title&gt;</span>
    <span class="nt">&lt;ExternalId&gt;</span>224234<span class="nt">&lt;/ExternalId&gt;</span>
    <span class="nt">&lt;Company&gt;</span>Len Dev<span class="nt">&lt;/Company&gt;</span>
    <span class="nt">&lt;Custom1&gt;</span>N<span class="nt">&lt;/Custom1&gt;</span>
    <span class="nt">&lt;Custom2&gt;</span>Meeting<span class="nt">&lt;/Custom2&gt;</span>
    <span class="nt">&lt;CrnCode&gt;</span>USD<span class="nt">&lt;/CrnCode&gt;</span>
  <span class="nt">&lt;/Attendee&gt;</span>
  <span class="nt">&lt;Attendee&gt;</span>
    <span class="nt">&lt;AttendeeType&gt;</span>BUSGUEST<span class="nt">&lt;/AttendeeType&gt;</span>
    <span class="nt">&lt;LastName&gt;</span>Fletcher<span class="nt">&lt;/LastName&gt;</span>
    <span class="nt">&lt;FirstName&gt;</span>Erin<span class="nt">&lt;/FirstName&gt;</span>
    <span class="nt">&lt;Title&gt;</span>Accounting Manager<span class="nt">&lt;/Title&gt;</span>
    <span class="nt">&lt;ExternalId&gt;</span>344534<span class="nt">&lt;/ExternalId&gt;</span>
    <span class="nt">&lt;Company&gt;</span>Len Dev<span class="nt">&lt;/Company&gt;</span>
    <span class="nt">&lt;Custom1&gt;</span>N<span class="nt">&lt;/Custom1&gt;</span>
    <span class="nt">&lt;Custom2&gt;</span>Meeting<span class="nt">&lt;/Custom2&gt;</span>
    <span class="nt">&lt;CrnCode&gt;</span>USD<span class="nt">&lt;/CrnCode&gt;</span>
    <span class="nt">&lt;AssociatedAttendeesCount&gt;</span>5<span class="nt">&lt;/AssociatedAttendeesCount&gt;</span>
  <span class="nt">&lt;/Attendee&gt;</span>
<span class="nt">&lt;/Attendees&gt;</span>
</code></pre></div></div>

<h4 id="request-create-an-attendee-owned-by-the-system">Request: Create an Attendee Owned by the System</h4>

<p>This allows you to create attendees for Attendee Types that are configured as Shared Lists (centrally managed).</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST https://www.concursolutions.com/api/expense/expensereport/v1.1/report/nxxKgLlnROz3zHJBCRksaas23dsfs/entry/n7We3qWw99u1KoWTMaLhSC<span class="nv">$pXBYzQ1UDhn</span>/Attendees
Authorization: OAuth <span class="o">{</span>token<span class="o">}</span>
</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Attendees</span> <span class="na">xmlns=</span><span class="s">"http://www.concursolutions.com/api/expense/expensereport/2011/03"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Attendee&gt;</span>
    <span class="nt">&lt;AttendeeType&gt;</span>BUSGUEST<span class="nt">&lt;/AttendeeType&gt;</span>
    <span class="nt">&lt;LastName&gt;</span>Gato<span class="nt">&lt;/LastName&gt;</span>
    <span class="nt">&lt;FirstName&gt;</span>Bailey<span class="nt">&lt;/FirstName&gt;</span>
    <span class="nt">&lt;Title&gt;</span>Finance Manager<span class="nt">&lt;/Title&gt;</span>
    <span class="nt">&lt;ExternalId&gt;</span>998238<span class="nt">&lt;/ExternalId&gt;</span>
    <span class="nt">&lt;Company&gt;</span>Len Dev<span class="nt">&lt;/Company&gt;</span>
    <span class="nt">&lt;Custom1&gt;</span>N<span class="nt">&lt;/Custom1&gt;</span>
    <span class="nt">&lt;Custom2&gt;</span>Meeting<span class="nt">&lt;/Custom2&gt;</span>
    <span class="nt">&lt;CrnCode&gt;</span>USD<span class="nt">&lt;/CrnCode&gt;</span>
    <span class="nt">&lt;SystemOwner&gt;</span>Yes<span class="nt">&lt;/SystemOwner&gt;</span>
  <span class="nt">&lt;/Attendee&gt;</span>
<span class="nt">&lt;/Attendees&gt;</span>
</code></pre></div></div>

<h4 id="response-1">Response</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/xml
</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;attendee-batch-result</span> <span class="na">xmlns=</span><span class="s">"http://www.concursolutions.com/api/expense/expensereport/2011/03"</span> <span class="na">xmlns:i=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;records-succeeded&gt;</span>2<span class="nt">&lt;/records-succeeded&gt;</span>
  <span class="nt">&lt;records-failed&gt;</span>0<span class="nt">&lt;/records-failed&gt;</span>
  <span class="nt">&lt;AttendeeInfoList&gt;</span>
    <span class="nt">&lt;AttendeeStatus&gt;</span>
      <span class="nt">&lt;Index&gt;</span>1<span class="nt">&lt;/Index&gt;</span>
      <span class="nt">&lt;Status&gt;</span>Success<span class="nt">&lt;/Status&gt;</span>
      <span class="nt">&lt;Attendee-Details-Url&gt;</span>https://www.concursolutions.com/api/expense/expensereport/v1.1/report/nxxKgLlnROzjLoLX67fYGzI$pMGj4dZdfU/entry/nE0avYnILMdxd6MTj0$sM6iloOYz0Mzl$pX/Attendees/nFaAj038Hxv6eoOU9SvVwhK0Rj5Kc7Twl<span class="nt">&lt;/Attendee-Details-Url&gt;</span>
    <span class="nt">&lt;/AttendeeStatus&gt;</span>
    <span class="nt">&lt;AttendeeStatus&gt;</span>
      <span class="nt">&lt;Index&gt;</span>2<span class="nt">&lt;/Index&gt;</span>
      <span class="nt">&lt;Status&gt;</span>Success<span class="nt">&lt;/Status&gt;</span>
      <span class="nt">&lt;Attendee-Details-Url&gt;</span>https://www.concursolutions.com/api/expense/expensereport/v1.1/report/nxxKgLlnROzjLoLX67fYGzI$pMGj4dZdfU/entry/nE0avYnILMdxd6MTj0$sM6iloOYz0Mzl$pX/Attendees/nFaAj038Hxv3gxNiO5ei3$peY761ggLnBh<span class="nt">&lt;/Attendee-Details-Url&gt;</span>
    <span class="nt">&lt;/AttendeeStatus&gt;</span>
  <span class="nt">&lt;/AttendeeInfoList&gt;</span>
<span class="nt">&lt;/attendee-batch-result&gt;</span>
</code></pre></div></div>

<h4 id="response-error-present">Response: Error present</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/xml
</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;attendee-batch-result</span> <span class="na">xmlns=</span><span class="s">"http://www.concursolutions.com/api/expense/expensereport/2011/03"</span> <span class="na">xmlns:i=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;records-succeeded&gt;</span>1<span class="nt">&lt;/records-succeeded&gt;</span>
  <span class="nt">&lt;records-failed&gt;</span>1<span class="nt">&lt;/records-failed&gt;</span>
  <span class="nt">&lt;errors&gt;</span>
    <span class="nt">&lt;error&gt;</span>
      <span class="nt">&lt;Index&gt;</span>1<span class="nt">&lt;/Index&gt;</span>
      <span class="nt">&lt;message&gt;</span>AttendeeType Does not Exist: BUSGUEST1<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/error&gt;</span>
  <span class="nt">&lt;/errors&gt;</span>
  <span class="nt">&lt;AttendeeInfoList&gt;</span>
    <span class="nt">&lt;AttendeeStatus&gt;</span>
      <span class="nt">&lt;Index&gt;</span>2<span class="nt">&lt;/Index&gt;</span>
      <span class="nt">&lt;Status&gt;</span>Success<span class="nt">&lt;/Status&gt;</span>
      <span class="nt">&lt;Attendee-Details-Url&gt;</span>https://www.concursolutions.com/api/expense/expensereport/v1.1/report/nxxKgLlnROzjLoLX67fYGzI$pMGj4dZdfU/entry/nE0avYnILMdxd6MTj0$sM6iloOYz0Mzl$pX/Attendees/nFaAj038HwYk7lweHaEerudeUKgVs8ATS<span class="nt">&lt;/Attendee-Details-Url&gt;</span>
    <span class="nt">&lt;/AttendeeStatus&gt;</span>
  <span class="nt">&lt;/AttendeeInfoList&gt;</span>
<span class="nt">&lt;/attendee-batch-result&gt;</span>
</code></pre></div></div>
:ET