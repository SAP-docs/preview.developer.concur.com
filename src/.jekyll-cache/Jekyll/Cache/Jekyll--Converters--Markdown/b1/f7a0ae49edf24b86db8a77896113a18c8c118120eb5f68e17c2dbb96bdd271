I"¸È<h1 id="endpoints">Endpoints</h1>

<ul>
  <li><a href="#definitions-of-resources">Definitions of Resources</a>
    <ul>
      <li><a href="#supported-image-formats">Supported Image Formats</a></li>
    </ul>
  </li>
  <li><a href="#general">General</a>
    <ul>
      <li><a href="#endpoint-service-index">GET Service Index</a></li>
      <li><a href="#endpoint-get-receipt-status">GET Receipt Status by Receipt ID</a></li>
    </ul>
  </li>
  <li><a href="#e-receipts">E-Receipts</a>
    <ul>
      <li><a href="#endpoint-schemas">GET Schemas</a></li>
      <li><a href="#endpoint-post-a-receipt">POST Receipts</a></li>
      <li><a href="#endpoint-get-receipts-by-userid">GET Receipts by User ID</a></li>
      <li><a href="#endpoint-get-a-receipt-by-id">GET Receipts by Receipt ID</a></li>
      <li><a href="#endpoint-get-receipt-image">GET Receipt Image by Receipt ID</a></li>
    </ul>
  </li>
  <li><a href="#image-only-receipts">Image-Only Receipts</a>
    <ul>
      <li><a href="#endpoint-post-an-image-only-receipt">POST Image-Only Receipts</a></li>
      <li><a href="#endpoint-get-image-only-receipts-by-userid">GET Image-Only Receipts by User ID</a></li>
      <li><a href="#endpoint-get-an-image-only-receipt-by-id">GET Image-Only Receipt by Receipt ID</a></li>
      <li><a href="#endpoint-get-receipt-image-image-only">GET Receipt Image by Receipt ID</a></li>
    </ul>
  </li>
</ul>

<h3 id="definitions-of-resources">Definitions of Resources</h3>

<ul>
  <li><em><strong>E-Receipt</strong></em> - A schema-enforced resource with data and, optionally, an image. If an image is not provided, one will be generated from the data resource.</li>
  <li><em><strong>Image-Only Receipt</strong></em> - A standalone image without data.</li>
</ul>

<blockquote>
  <p><strong>Note</strong>: The Receipts V4 API only provides GET access to individual or user‚Äôs receipts that have been submitted through this API, and, therefore the response will not be comprehensive of every user receipt within SAP Concur. All other images should be obtained via the <a href="https://developer.concur.com/api-reference/image/v1.image.html">Image v1 API</a>. Additionally, only the receipts will be returned, there will not be any corresponding entry data. Examples of Enterprise apps that should use the Image v1 API include: ERP integrations for financial journal entry postings, VAT reclaim integrations that obtain transactions to calculate VAT reclaim, project billing integrations used to substantiate expenses billed back, etc.</p>
</blockquote>

<h4 id="supported-image-formats"><a name="supported-image-formats"></a>Supported Image Formats</h4>

<ul>
  <li>Image size must not exceed 25MB.</li>
  <li>Images with any dimension exceeding 2,200 pixels will be reduced, with the longest dimension reduced to 2,200 pixels and the remaining dimensions scaled down using a fixed aspect ratio.</li>
  <li>Image must be one of the supported file types: image/png, image/jpg, image/jpeg, image/tiff, image/tif, image/gif, and application/pdf. Images provided in image/tiff and image/tif will be converted to a PDF document with the image embedded within.</li>
</ul>

<h3 id="general">General</h3>

<table>
  <thead>
    <tr>
      <th>Endpoint</th>
      <th>Response Format</th>
      <th>Request Summary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#endpoint-service-index">GET /</a></td>
      <td>JSON</td>
      <td>Get service index URLs</td>
    </tr>
    <tr>
      <td><a href="#endpoint-get-receipt-status">GET /v4/status/:receiptId</a></td>
      <td>JSON</td>
      <td>Get the status of a receipt</td>
    </tr>
  </tbody>
</table>

<h5 id="endpoint-service-index">Endpoint: Service Index</h5>

<h6 id="get-"><em>GET /</em></h6>

<p>Making a GET request to the root of the service will return a list of current endpoints. If endpoint URLs ever change, the service index will be updated. To ensure that you are using the correct URLs, the safest practice is to check the service index before every request. The response will include current URLs for all endpoints in the receipt service.</p>

<p><em>Example Requests:</em></p>

<p>cURL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span> https://us.api.concursolutions.com/receipts/
</code></pre></div></div>

<p>HTTPie:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http https://us.api.concursolutions.com/receipts/ <span class="s1">'Authorization:Bearer {YOUR ACCESS TOKEN}'</span>
</code></pre></div></div>

<p><em>Example Response:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"receipt-get"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4/{receiptId}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"receipt-post"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4/users/{userId}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"receipts-get-user"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4/users/{userId}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"schemas-get"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><a href="#endpoints">Back to Top</a></p>

<h3 id="e-receipts">E-Receipts</h3>

<table>
  <thead>
    <tr>
      <th>Endpoint</th>
      <th>Response Format</th>
      <th>Request Summary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#endpoint-schemas">GET /schemas</a></td>
      <td>JSON</td>
      <td>Get currently supported receipt schemas</td>
    </tr>
    <tr>
      <td><a href="#endpoint-post-a-receipt">POST /v4/users/:userId</a></td>
      <td>N/A</td>
      <td>Post a receipt</td>
    </tr>
    <tr>
      <td><a href="#endpoint-get-receipts-by-userid">GET /v4/users/:userId</a></td>
      <td>JSON</td>
      <td>Get a user‚Äôs receipts</td>
    </tr>
    <tr>
      <td><a href="#endpoint-get-a-receipt-by-id">GET /v4/:receiptId</a></td>
      <td>JSON</td>
      <td>Get a receipt by ID</td>
    </tr>
    <tr>
      <td><a href="#endpoint-get-receipt-image">GET /v4/:receiptId/image</a></td>
      <td>image file</td>
      <td>Get a receipt image.</td>
    </tr>
  </tbody>
</table>

<h5 id="endpoint-schemas">Endpoint: Schemas</h5>

<h6 id="get-schemasschemaid"><em>GET /schemas/:schemaId</em></h6>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Requirement</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>schemaId</td>
      <td>optional</td>
      <td>The ID of the schema to be returned.</td>
    </tr>
  </tbody>
</table>

<p>The response to a GET request to <code class="language-plaintext highlighter-rouge">/schemas</code> will have a list of JSON validation schemas for available receipt types. An array of <code class="language-plaintext highlighter-rouge">supportingSchemas</code> is also returned, but these do not represent actual receipt types.</p>

<p>If a schema ID is provided, then only the schema with that ID will be returned, instead of the entire schema index. The ID‚Äôs of schemas are not UUIDs, but are instead just the names of the schema with the extension <code class="language-plaintext highlighter-rouge">.schema.json</code>. For example, <code class="language-plaintext highlighter-rouge">car-rental-receipt.schema.json</code> or <code class="language-plaintext highlighter-rouge">air-receipt.schema.json</code>.</p>

<p>One of the receipt schemas must be included in the <a href="http://json-schema.org/latest/json-schema-core.html#anchor35">link header</a> of receipt POST requests with the relationship of <code class="language-plaintext highlighter-rouge">describedBy</code>. This looks like <code class="language-plaintext highlighter-rouge">link: &lt;http://schema.concursolutions.com/{RECEIPT TYPE}.schema.json&gt;;rel=describedBy</code>.</p>

<p><em>Example Requests:</em></p>

<p>cURL for the schema index:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span> https://us.api.concursolutions.com/receipts/schemas/
</code></pre></div></div>

<p>HTTPie for the schema index:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http https://us.api.concursolutions.com/receipts/schemas <span class="s1">'Authorization:Bearer {YOUR ACCESS TOKEN}'</span>
</code></pre></div></div>

<p>cURL for a single schema:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span> https://us.api.concursolutions.com/receipts/schemas/car-rental-receipt.schema.json
</code></pre></div></div>

<p>HTTPie for a single schema:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http https://us.api.concursolutions.com/receipts/schemas/car-rental-receipt.schema.json <span class="s1">'Authorization:Bearer {YOUR ACCESS TOKEN}'</span>
</code></pre></div></div>

<p><em>Example Response:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"receiptSchemas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/air-receipt.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/air-receipt.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/car-rental-receipt.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/car-rental-receipt.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/general-receipt.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/general-receipt.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/ground-transport-receipt.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/ground-transport-receipt.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/hotel-receipt.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/hotel-receipt.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/jpt-ic-card-receipt.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/jpt-ic-card-receipt.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/rail-receipt.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/rail-receipt.schema.json"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"supportingSchemas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/address-original.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/address-original.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/address.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/address.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/common.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/common.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/discount.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/discount.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/line-item.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/line-item.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/location.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/location.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/merchant.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/merchant.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/payments.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/payments.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/receipt-core.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/receipt-core.schema.json"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/taxes.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/schemas/taxes.schema.json"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><a href="#endpoints">Back to Top</a></p>

<h5 id="endpoint-get-receipt-status">Endpoint: Get Receipt Status</h5>

<h6 id="get-v4statusreceiptid">GET /v4/status/:receiptId</h6>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Requirement</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>receiptId</td>
      <td>required</td>
      <td>The id of the receipt associated with the image.</td>
    </tr>
  </tbody>
</table>

<p>This endpoint may be used to see the current processing status of a receipt.</p>

<p>When a successful POST request is made the <code class="language-plaintext highlighter-rouge">Link</code> header of the response contains a ‚Äòprocessing-status‚Äô URL. This processing-status URL will be available for two weeks after the initial POST and will provide information regarding the processing status of your receipt.</p>

<p>There are four possible top level statuses: <code class="language-plaintext highlighter-rouge">ACCEPTED</code>, <code class="language-plaintext highlighter-rouge">FAILED</code>, <code class="language-plaintext highlighter-rouge">PROCESSING</code>, and <code class="language-plaintext highlighter-rouge">PROCESSED</code>.</p>

<p>In additional to a high level status, information will be provided in an array of event logs. Events that may be included in the logs will be typed as <code class="language-plaintext highlighter-rouge">INFO</code>, <code class="language-plaintext highlighter-rouge">DEBUG</code>, <code class="language-plaintext highlighter-rouge">WARNING</code>, or <code class="language-plaintext highlighter-rouge">ERROR</code>.</p>

<p>Example event messages:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>INFO</td>
      <td>Receipt accepted. Queued for processing.</td>
    </tr>
    <tr>
      <td>INFO</td>
      <td>Initiated receipt processing. (event for each attempt)</td>
    </tr>
    <tr>
      <td>ERROR</td>
      <td>Error from User Profile service. Queued for reprocessing.</td>
    </tr>
    <tr>
      <td>ERROR</td>
      <td>Error from Imaging service. Queued for reprocessing.</td>
    </tr>
    <tr>
      <td>ERROR</td>
      <td>Error during image generation or retrieval. Queued for reprocessing.</td>
    </tr>
    <tr>
      <td>INFO</td>
      <td>Receipt image generated.</td>
    </tr>
    <tr>
      <td>ERROR</td>
      <td>Processing failed.</td>
    </tr>
    <tr>
      <td>INFO</td>
      <td>Processing finished.</td>
    </tr>
  </tbody>
</table>

<p><em>Example Requests:</em></p>

<p>cURL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span> https://us.api.concursolutions.com/receipts/v4/status/<span class="o">{</span>RECEIPT ID<span class="o">}</span>
</code></pre></div></div>

<p>HTTPie:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http https://us.api.concursolutions.com/receipts/v4/status/<span class="o">{</span>RECEIPT ID<span class="o">}</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span>
</code></pre></div></div>

<p><em>Example Response:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"logs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"logLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INFO"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Receipt accepted. Queued for processing."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon, 08 May 2017 23:05:52 GMT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"logLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INFO"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initiated receipt processing."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon, 08 May 2017 23:05:52 GMT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"logLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INFO"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Receipt image generated."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon, 08 May 2017 23:05:53 GMT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"logLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INFO"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Processing finished."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon, 08 May 2017 23:05:54 GMT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><a href="#endpoints">Back to Top</a></p>

<h5 id="endpoint-post-a-receipt">Endpoint: Post a Receipt</h5>

<h6 id="post-v4usersuserid"><em>POST /v4/users/:userId</em></h6>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Requirement</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>userId</td>
      <td>required</td>
      <td>The id of the user to whom the receipt belongs.</td>
    </tr>
    <tr>
      <td>receipt</td>
      <td>required</td>
      <td>The JSON receipt to be posted.</td>
    </tr>
    <tr>
      <td>image</td>
      <td>optional</td>
      <td>Image of the receipt. If an image isn‚Äôt provided, one will be generated automatically from the JSON. Refer to <a href="#supported-image-formats">Supported Image Formats</a> for more information.</td>
    </tr>
  </tbody>
</table>

<p>Creating a receipt requires JSON data about the transaction and, optionally, an image of the receipt. If an image is not supplied with the request, SAP Concur will automatically generate a receipt image based on the data provided. <a href="https://developer.concur.com/api-reference/receipts/get-started.html#endpoint-schemas">JSON schemas</a> are used to validate the format of receipt data received in POST requests.</p>

<p>Successful POST requests will receive a response of 201 Created. The <code class="language-plaintext highlighter-rouge">Location</code> header of the response contains a URL for your receipt. Once the receipt has been processed, it can be retrieved at this URL. The <code class="language-plaintext highlighter-rouge">Link</code> header of the response contains a processing-status URL for your receipt. More information can be found <a href="#endpoint-get-receipt-status">here</a>.</p>

<p>Helpful Notes:</p>
<ul>
  <li>Include link as a header and make its value: ‚Äú<a href="http://schema.concursolutions.com/{receipt type}.schema.json">http://schema.concursolutions.com/{receipt type}.schema.json</a>;rel=describedBy‚Äù</li>
  <li>Copy a sample receipt of that receipt type from the documentation (https://developer.concur.com/api-reference/receipts/sample-receipts.html) and post it into the body of this POST call ‚Üí you can then edit this body to your specification</li>
</ul>

<p>If you are not providing an image with your receipt data, the body of the request should be your receipt JSON.</p>

<p>Receipt images may be posted along with data. In this case, SAP Concur will use the provided image instead of generating a new one. To post data and an image, use multipart form data. The <code class="language-plaintext highlighter-rouge">Content-Type:multipart/form-data</code> header must be set. The image should be included under the key <code class="language-plaintext highlighter-rouge">image</code>, and the receipt JSON should be included under the key <code class="language-plaintext highlighter-rouge">receipt</code>. For information regarding image size, dimension, and type, please refer to <a href="#supported-image-formats">Supported Image Formats</a>.</p>

<p><em>Example Requests:</em></p>

<p>cURL data without image:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-v</span> <span class="nt">-X</span> POST https://us.api.concursolutions.com/receipts/v4/users/<span class="o">{</span>USER ID FROM YOUR ID TOKEN<span class="o">}</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"link: &lt;http://schema.concursolutions.com/{VALIDATION SCHEMA FROM SCHEMA ENDPOINT}.schema.json&gt;;rel=describedBy"</span> <span class="se">\</span>
<span class="nt">-d</span> @<span class="o">{</span>PATH TO YOUR RECEIPT JSON<span class="o">}</span>
</code></pre></div></div>

<p>cURL data and image:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-v</span> <span class="nt">-k</span> <span class="nt">-X</span> POST https://us.api.concursolutions.com/receipts/v4/users/<span class="o">{</span>USER ID FROM YOUR ID TOKEN<span class="o">}</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type:multipart/form-data"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"link: &lt;http://schema.concursolutions.com/{VALIDATION SCHEMA FROM SCHEMA ENDPOINT}.schema.json&gt;;rel=describedBy"</span> <span class="se">\</span>
<span class="nt">-F</span> <span class="s2">"receipt=&lt;{PATH TO YOUR RECEIPT JSON};type=application/json"</span> <span class="se">\</span>
<span class="nt">-F</span> <span class="s2">"image=@{PATH TO YOUR IMAGE};type={FILE MIME TYPE OF YOUR IMAGE}"</span>
</code></pre></div></div>

<p>HTTPie data without image:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http POST https://us.api.concursolutions.com/receipts/v4/users/<span class="o">{</span>USER ID FROM YOUR ID TOKEN<span class="o">}</span> <span class="se">\</span>
<span class="s2">"Authorization:Bearer {YOUR ACCESS TOKEN}"</span> <span class="se">\</span>
<span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="s2">"link: &lt;http://schema.concursolutions.com/{VALIDATION SCHEMA FROM SCHEMA ENDPOINT}.schema.json&gt;;rel=describedBy"</span> <span class="se">\</span>
&lt; <span class="o">{</span>PATH TO YOUR RECEIPT JSON<span class="o">}</span>
</code></pre></div></div>

<p><em>Example Response:</em></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Link</span><span class="p">:</span> <span class="s">&lt;http://schema.concursolutions.com/car-rental-receipt.schema.json&gt;; rel="describedBy", &lt;https://us.api.concursolutions.com/receipts/v4/status/b0a4ab2bce8a49a08cf177cb997bf2ee&gt;; rel="processing-status"</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://us.api.concursolutions.com/receipts/v4/b0a4ab2bce8a49a08cf177cb997bf2ee</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">keep-alive</span>
</code></pre></div></div>

<p><a href="#endpoints">Back to Top</a></p>

<h5 id="endpoint-get-a-receipt-by-id">Endpoint: Get a Receipt by ID</h5>

<h6 id="get-v4receiptid"><em>GET /v4/:receiptId</em></h6>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Requirement</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>receiptId</td>
      <td>required</td>
      <td>The id of the receipt to be returned.</td>
    </tr>
  </tbody>
</table>

<p>Returns the JSON receipt associated with the ID in the URL.</p>

<p><em>Example Requests:</em></p>

<p>cURL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span> https://us.api.concursolutions.com/receipts/v4/<span class="o">{</span>RECEIPT ID<span class="o">}</span>
</code></pre></div></div>

<p>HTTPie:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http https://us.api.concursolutions.com/receipts/v4/<span class="o">{</span>RECEIPT ID<span class="o">}</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span>
</code></pre></div></div>

<p><em>Example Response</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"dateTimeReceived"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-28T21:41:21.087Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85b76a2bf51a4ed7b8b252994d7d9e2b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"receipt"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">...Receipt</span><span class="w"> </span><span class="err">JSON...</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08bdda1e-0d4f-4261-9f1b-f9b8d9f817d6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"validationSchema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/car-rental-receipt.schema.json"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4/85b76a2bf51a4ed7b8b252994d7d9e2b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4/{receiptId}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><a href="#endpoints">Back to Top</a></p>

<h5 id="endpoint-get-receipts-by-userid">Endpoint: Get Receipts By UserId</h5>

<h6 id="get-v4usersuserid"><em>GET /v4/users/:userId</em></h6>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Requirement</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>userId</td>
      <td>required</td>
      <td>The id of the user whose receipts will be returned.</td>
    </tr>
  </tbody>
</table>

<p>Returns all receipts for a given user ID.</p>

<p><em>Example Requests:</em></p>

<p>cURL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span> https://us.api.concursolutions.com/receipts/v4/users/<span class="o">{</span>USER ID<span class="o">}</span>
</code></pre></div></div>

<p>HTTPie:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http https://us.api.concursolutions.com/receipts/v4/users/<span class="o">{</span>USER ID<span class="o">}</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span>
</code></pre></div></div>

<p><em>Example Response:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"receipts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"dateTimeReceived"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-28T21:41:21.087Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85b76a2bf51a4ed7b8b252994d7d9e2b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"receipt"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">...Receipt</span><span class="w"> </span><span class="err">JSON...</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08bdda1e-0d4f-4261-9f1b-f9b8d9f817d6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"validationSchema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/car-rental-receipt.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4/85b76a2bf51a4ed7b8b252994d7d9e2b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4/{receiptId}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"dateTimeReceived"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-28T19:59:30.488Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df8c1161d917439c9e6f141fd0d6b588"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"receipt"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">...Receipt</span><span class="w"> </span><span class="err">JSON...</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08bdda1e-0d4f-4261-9f1b-f9b8d9f817d6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"validationSchema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://schema.concursolutions.com/car-rental-receipt.schema.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4/df8c1161d917439c9e6f141fd0d6b588"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4/{receiptId}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><a href="#endpoints">Back to Top</a></p>

<h5 id="endpoint-get-receipt-image">Endpoint: Get Receipt Image</h5>

<h6 id="get-v4receiptidimage"><em>GET /v4/:receiptId/image</em></h6>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Requirement</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>receiptId</td>
      <td>required</td>
      <td>The id of the receipt associated with the image.</td>
    </tr>
  </tbody>
</table>

<p>If an image or PDF document was generated by or POSTed to Receipts v4, this endpoint can return the image in the same format that it was originally received by the API. Images for receipts created with v3 of the API are <em>not</em> accessible via this endpoint.</p>

<p><em>Example Requests:</em></p>

<p>cURL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span> https://us.api.concursolutions.com/receipts/v4/<span class="o">{</span>RECEIPT ID<span class="o">}</span>/image
</code></pre></div></div>

<p>HTTPie:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http https://us.api.concursolutions.com/receipts/v4/<span class="o">{</span>RECEIPT ID<span class="o">}</span>/image <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span>
</code></pre></div></div>

<p><a href="#endpoints">Back to Top</a></p>

<h3 id="image-only-receipts">Image-Only Receipts</h3>

<blockquote>
  <p><strong>Note</strong>: This API is not designed to obtain the receipt images attached to an expense report. If you are an Enterprise Partner creating integrations that are intended to obtain final-approved Expense or Invoice data, and the accompanying receipt images that substantiate those transactions you will need to use <a href="https://developer.concur.com/api-reference/image/v1.image.html">Image v1</a>. These scenarios include, but are not limited to: ERP integrations for financial journal entry postings, VAT reclaim integrations that obtain transactions to calculate VAT reclaim, project billing integrations used to substantiate expenses billed back, etc.</p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Endpoint</th>
      <th>Response Format</th>
      <th>Request Summary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#endpoint-post-an-image-only-receipt">POST /v4/users/:userId/image-only-receipts</a></td>
      <td>N/A</td>
      <td>Post an image-only receipt</td>
    </tr>
    <tr>
      <td><a href="#endpoint-get-image-only-receipts-by-userid">GET /v4/users/:userId/image-only-receipts</a></td>
      <td>JSON</td>
      <td>Get a user‚Äôs image-only receipts</td>
    </tr>
    <tr>
      <td><a href="#endpoint-get-an-image-only-receipt-by-id">GET /v4/image-only-receipts/:receiptId</a></td>
      <td>JSON</td>
      <td>Get an image-only receipt by ID</td>
    </tr>
  </tbody>
</table>

<h5 id="endpoint-post-an-image-only-receipt">Endpoint: Post an Image-Only Receipt</h5>

<h6 id="post-v4usersuseridimage-only-receipts"><em>POST /v4/users/:userId/image-only-receipts</em></h6>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Requirement</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>userId</td>
      <td>required</td>
      <td>The id of the user to whom the receipt image belongs.</td>
    </tr>
    <tr>
      <td>image</td>
      <td>required</td>
      <td>Image of the receipt. Refer to <a href="#supported-image-formats">Supported Image Formats</a> for more information.</td>
    </tr>
  </tbody>
</table>

<p>Successful POST requests will receive a response of 202 Accepted. The Location header of the response contains a URL for your receipt image. Once the receipt has been processed, it can be retrieved at this URL. The Link header of the response contains a processing-status URL for your receipt image.</p>

<p>Helpful Notes:</p>
<ul>
  <li>The header must include content-type with multipart/form-data as its value</li>
  <li>In the body, add ‚Äúimage‚Äù as a key and select ‚Äúfile‚Äù from the dropdown since you will be linking an image file. Then, choose your saved image file as the value.</li>
</ul>

<p>For information regarding image size, dimension, and type, please refer to <a href="#supported-image-formats">Supported Image Formats</a>.</p>

<p><em>Example Requests:</em></p>

<p>cURL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-v</span> <span class="nt">-X</span> POST https://us.api.concursolutions.com/receipts/v4/users/<span class="o">{</span>USER ID FROM YOUR ID TOKEN<span class="o">}</span>/image-only-receipts <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type:multipart/form-data"</span> <span class="se">\</span>
<span class="nt">-F</span> <span class="s2">"image=@{PATH TO YOUR IMAGE};type=image/{FILE MIME TYPE OF YOUR IMAGE}"</span>
</code></pre></div></div>

<p><em>Example Response:</em></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 202 Accepted
Link: &lt;https://us.api.concursolutions.com/receipts/v4/status/b0a4ab2bce8a49a08cf177cb997bf2ee&gt;<span class="p">;</span> <span class="nv">rel</span><span class="o">=</span><span class="s2">"processing-status"</span>
Location: https://us.api.concursolutions.com/receipts/v4/images/b0a4ab2bce8a49a08cf177cb997bf2ee
Content-Length: 0
Connection: keep-alive
</code></pre></div></div>

<p><a href="#endpoints">Back to Top</a></p>

<h5 id="endpoint-get-image-only-receipts-by-userid">Endpoint: Get Image-Only Receipts By UserId</h5>

<h6 id="get-v4usersuseridimage-only-receipts"><em>GET /v4/users/:userId/image-only-receipts</em></h6>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Requirement</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>userId</td>
      <td>required</td>
      <td>The id of the user whose receipt images will be returned.</td>
    </tr>
  </tbody>
</table>

<p>Returns the JSON metadata of receipt images for the user ID specified in the URL. Results should be paginated in the same manner as the e-receipt endpoint.</p>

<p><em>Example Requests:</em></p>

<p>cURL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span> https://us.api.concursolutions.com/receipts/v4/users/<span class="o">{</span>USER ID<span class="o">}</span>/image-only-receipts
</code></pre></div></div>

<p>HTTPie:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http https://us.api.concursolutions.com/receipts/v4/users/<span class="o">{</span>USER ID<span class="o">}</span>/image-only-receipts <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span>
</code></pre></div></div>

<p><em>Example Response:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP/</span><span class="mf">1.1</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span><span class="err">Content-Length:</span><span class="w"> </span><span class="mi">800</span><span class="w">
</span><span class="err">Connection:</span><span class="w"> </span><span class="err">keep-alive</span><span class="w">

</span><span class="p">{</span><span class="w">
	</span><span class="nl">"receiptsImages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
	    </span><span class="p">{</span><span class="w">
	        </span><span class="nl">"dateTimeReceived"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wed May 24 2017 16:14:17 GMT+00:00"</span><span class="p">,</span><span class="w">
	        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a90fc48e0f0a44f2bd4838fd773b07a5"</span><span class="p">,</span><span class="w">
	        </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4/image-only-receipts/a90fc48e0f0a44f2bd4838fd773b07a5/image"</span><span class="p">,</span><span class="w">
	        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd123456efg"</span><span class="w">
	    </span><span class="p">},</span><span class="w">
	    </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
	</span><span class="p">],</span><span class="w">
	</span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4/users/abcd123456efg/image-only-receipts/page/1507587575592_d4721b2f3b304a9a9325fabdad5f50ad"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><a href="#endpoints">Back to Top</a></p>

<h5 id="endpoint-get-an-image-only-receipt-by-id">Endpoint: Get an Image-Only Receipt by ID</h5>

<h6 id="get-v4image-only-receiptsreceiptid"><em>GET /v4/image-only-receipts/:receiptId</em></h6>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Requirement</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>receiptId</td>
      <td>required</td>
      <td>The id of the receipt image to be returned.</td>
    </tr>
  </tbody>
</table>

<p>Returns the JSON metadata associated with the ID in the URL.</p>

<p><em>Example Requests:</em></p>

<p>cURL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-v</span> <span class="nt">-X</span> GET https://us.api.concursolutions.com/receipts/v4/image-only-receipts/<span class="o">{</span>RECEIPT ID<span class="o">}</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span>
</code></pre></div></div>

<p>HTTPie:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http https://us.api.concursolutions.com/receipts/v4/image-only-receipts/<span class="o">{</span>RECEIPT ID<span class="o">}</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span>
</code></pre></div></div>

<p><em>Example Response</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP/</span><span class="mf">1.1</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span><span class="err">Content-Length:</span><span class="w"> </span><span class="mi">272</span><span class="w">
</span><span class="err">Connection:</span><span class="w"> </span><span class="err">keep-alive</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"dateTimeReceived"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wed May 24 2017 16:14:17 GMT+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a90fc48e0f0a44f2bd4838fd773b07a5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://us.api.concursolutions.com/receipts/v4/image-only-receipts/a90fc48e0f0a44f2bd4838fd773b07a5/image"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd123456efg"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><a href="#endpoints">Back to Top</a></p>

<h5 id="endpoint-get-receipt-image-image-only">Endpoint: Get Receipt Image (Image-Only)</h5>

<h6 id="get-v4image-only-receiptsreceiptidimage"><em>GET /v4/image-only-receipts/:receiptId/image</em></h6>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Requirement</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>receiptId</td>
      <td>required</td>
      <td>The id of the receipt image to be returned.</td>
    </tr>
  </tbody>
</table>

<p>Returns the image in the same format that it was originally received by the API (image/png, image/jpg, image/jpeg, image/tiff, image/tif, image/gif, or application/pdf).</p>

<p><em>Example Requests:</em></p>

<p>cURL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span> https://us.api.concursolutions.com/receipts/v4/image-only-receipts/<span class="o">{</span>RECEIPT ID<span class="o">}</span>/image
</code></pre></div></div>

<p>HTTPie:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http https://us.api.concursolutions.com/receipts/v4/image-only-receipts/<span class="o">{</span>RECEIPT ID<span class="o">}</span>/image <span class="s2">"Authorization: Bearer {YOUR ACCESS TOKEN}"</span>
</code></pre></div></div>

<p><a href="#endpoints">Back to Top</a></p>
:ET