<!DOCTYPE html>
<html lang="en">

<head>
  


  <title> SAP Concur Developer Center | Itinerary - GET Itinerary & Trip Details</title>


<!-- Meta -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="The starting point for anyone interested in integrating with the SAP Concur platform that reaches 80 million end users.">
<meta name="author" content="">

<!-- Sitemap link -->
<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />

<!-- Favicon -->
<link rel="shortcut icon" href="/assets/img/square-sap-favicon.png" type="image/png">

<!-- Adobe Analytics Global-->
<script src="https://assets.adobedtm.com/e1226b306979/aeb854337dc8/launch-85c98625c1e8.min.js" async></script>

<!-- Canonical link-->
<link rel="canonical" href="https://preview.developer.concur.com/api-guides/travel/get-itinerary.html" data-proofer-ignore>

<!-- CSS Global Compulsory -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400">
<link rel="stylesheet" href="/assets/style.css">

<!-- CSS Implementing Plugins -->
<link rel="stylesheet" href="/assets/plugins/font-awesome/css/all.min.css">



<link rel="alternate" type="application/rss+xml" title="SAP Concur Developer Center RSS" href="/feed.xml" />

</head>

<body>


  <div class="wrapper page-option-v1">
    <div class="hidden-print">
  <nav id="header-navbar" class="navbar navbar-inverse hidden-print">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header col-6">
        <button type="button" class="navbar-toggle collapsed" style="color: white" data-toggle="collapse" data-target="#nav-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">
          <img src="/assets/img/sap-concur-logo-white.png" alt="Logo">
          <div class="app-name">Developer Center</div>
        </a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse col-6" id="nav-collapse-1">
        <ul class="nav navbar-nav navbar-right" style="padding-top: 9px">
          <!-- Development -->
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" style="color: white" role="button" aria-haspopup="true">
              Development <span class="caret"></span>
            </a>
            <ul class="dropdown-menu multi-column three-column-menu">
              <div class="row">
                <div class="col-sm-4">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-map-marked-alt fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">About</li>
                    <li><a href="/getting-started.html">Getting Started</a></li>
                    <li><a href="/api-reference/authentication/getting-started.html">Authentication</a></li>
                    <li><a href="/platform/index.html">Platform</a></li>
                    <li><a href="/tools-support/deprecation-policy.html">API Deprecation</a></li>
                  </ul>
                </div>
                <div class="col-sm-4">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-book fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">Documentation</li>
                    <li><a href="/api-reference/">API Reference</a></li>
                    <li><a href="/api-explorer/">API Explorer</a></li>
                    <li><a href="/api-guides/">API Guides</a></li>
                    <li><a href="/event-topics/">Event Topics</a></li>
                  </ul>
                </div>
                <div class="col-sm-4">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-clipboard-list fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">UX Guidelines</li>
                    <li><a href="/manage-apps/go-market-docs/app-center-ux-guidelines-enterprise.html">Enterprise Applications</a></li>
                    <li><a href="/manage-apps/go-market-docs/app-center-ux-guidelines-consumer.html">User Connections</a>
                    </li>
                  </ul>
                </div>
              </div>
            </ul>
          </li>
          <!-- Partner Resources -->
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" style="color: white" aria-haspopup="true" aria-expanded="false">
              Partner Resources <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li class="column-icon">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fas fa-lightbulb fa-stack-1x fa-inverse"></i>
                </span>
              </li>
              <li class="column-title">Partner Resources</li>
              <li><a href="/manage-apps/app-certification.html">App Certification</a></li>
              <li><a href="/manage-apps/partner-applications.html">App Registration & Management</a></li>
              <li><a href="/manage-apps/redirect.html">Go to Market</a></li>
              <li><a href="https://www.concur.com/en-us/app-center" target="_blank">App Center</a></li>
              <li><a href="https://www.concursolutions.com/" target="_blank">Login to Concur</a></li>
            </ul>
          </li>
          <!-- Support -->
          <li
            class="dropdown">
            <a href="#" class="dropdown-toggle" style="color: white" data-toggle="dropdown" role="button" aria-haspopup="true">
              Support <span class="caret"></span>
            </a>
            <ul class="dropdown-menu multi-column two-column-menu">
              <div class="row">
                <div class="col-sm-6">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-question fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">Support</li>
                    <li><a href="/tools-support/support.html">Support Options</a></li>
                    <li><a href="https://open.concur.com/" target="_blank">Service Status</a></li>
                  </ul>
                </div>
                <div class="col-sm-6">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-bullhorn fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">Bulletin</li>
                    <li><a href="/tools-support/release-notes/index.html">Release Notes</a></li>
                  </ul>
                </div>
              </div>
            </ul>
          </li>
          <!-- Search -->
          <li>
            <a href="#" class="search">
              <span class="sr-only">Search</span>
              <i class="fas fa-search search-btn" style="color:white;"></i>
            </a>
            <div class="search-open">
              <div class="input-group animated fadeInDown">
                <form method="GET" action="/search.html" id="searchbox_000165422556797149853:qlbg8re_3tu">
                  <input value="000165422556797149853:qlbg8re_3tu" name="cx" type="hidden">
                  <input value="FORID:11" name="cof" type="hidden"> <!-- FORID values configure ad positions -->
                  <div class="input-group">
                    <label for="q" hidden>Search</label>
                    <input type="text" id="q" class="form-control" name="q" placeholder="Search">
                    <span class="input-group-btn">
                      <button type="submit" class="btn bright-blue">Go</button>
                    </span>
                  </div>
                </form>
              </div>
            </div>
          </li>
        </ul> <!-- /.navbar-nav -->
      </div> <!-- /.navbar-collapse -->
  </nav> <!-- /.navbar -->
</div>


    <div id="main-content"
         class="main-content">
      <div class="container-fluid content">
  <div class="row">
    <div id="left-navigation"
         class="col-md-2 left-navigation">
      







<ul class="list-group sidebar-nav-v1 hidden-print" id="sidebar-nav">





  
    <li class="list-group-item ">
      <a href="/api-guides/">Integration Guides</a>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-attendees">
        Attendees
      </a>
      <ul id="collapse-attendees" class="collapse ">
        
          <li >
            <a href="/api-guides/attendees/external-attendees-to-expense-entries.html">Expense - Associating External Attendees to Expense Entries</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-authentication">
        Authentication
      </a>
      <ul id="collapse-authentication" class="collapse ">
        
          <li >
            <a href="/api-guides/authentication/concur-get-refresh-token/concur-get-refresh-token.html">Tutorial 1. Create Tokens Required for SAP Concur API Access</a>
          </li>
        
          <li >
            <a href="/api-guides/authentication/concur-refresh-token-management/concur-refresh-token-management.html">Tutorial 2. Refresh Token Management Automation</a>
          </li>
        
          <li >
            <a href="/api-guides/authentication/concur-calling-apis/concur-calling-apis.html">Tutorial 3. Call SAP Concur APIs Using A Multiple Use Bearer Token</a>
          </li>
        
      </ul>
    </li>

  



  
    <li class="list-group-item ">
      <a href="/api-guides/e-receipts.html">eReceipts Integration</a>
    </li>

  



  
    <li class="list-group-item ">
      <a href="/api-guides/ess-guide.html">Event Subscription Service v4 Guide</a>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-expense">
        Expense
      </a>
      <ul id="collapse-expense" class="collapse ">
        
          <li >
            <a href="/api-guides/expense/cost-object-workflow-integration.html">Cost Object Workflow Integration</a>
          </li>
        
          <li >
            <a href="/api-guides/expense/deeplink-url.html">Deeplink URL</a>
          </li>
        
          <li >
            <a href="/api-guides/expense/mexico-cfdi-integration.html">Mexico CFDI Integration Guide</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-erp-integration">
        ERP Integration
      </a>
      <ul id="collapse-erp-integration" class="collapse ">
        
          <li >
            <a href="/api-guides/ERP-integration/erp-integration.html">ERP Integrations</a>
          </li>
        
          <li >
            <a href="/api-guides/ERP-integration/posting-via-financial-integration-service.html">Financial Posting via Financial Integration Service</a>
          </li>
        
          <li >
            <a href="/api-guides/ERP-integration/posting-via-extracts.html">Financial Posting via Extracts</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-invoice">
        Invoice
      </a>
      <ul id="collapse-invoice" class="collapse ">
        
          <li >
            <a href="/api-guides/invoice/payment-provider-integration.html">Payment Provider Integration - paying customers' invoices</a>
          </li>
        
      </ul>
    </li>

  



  
    <li class="list-group-item ">
      <a href="/api-guides/preproduction-testing.html">Testing App Center Partner Applications</a>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-profile">
        Profile
      </a>
      <ul id="collapse-profile" class="collapse ">
        
          <li >
            <a href="/api-guides/profile/identity-search.html">Identity v4.1 Search Guide</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-request">
        Request
      </a>
      <ul id="collapse-request" class="collapse ">
        
          <li >
            <a href="/api-guides/request/deeplink-url-request.html">Deeplink URL Integration</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-tmc">
        TMC
      </a>
      <ul id="collapse-tmc" class="collapse ">
        
          <li >
            <a href="/api-guides/tmc/tmc-overview.html">TMC Guide Overview</a>
          </li>
        
          <li >
            <a href="/api-guides/tmc/itinerary-v1-guide.html">Guide to the Itinerary v1.0 API, TMC Edition</a>
          </li>
        
          <li >
            <a href="/api-guides/tmc/profile-v2-guide.html">Guide to the Profile v2.0 API, TMC Edition</a>
          </li>
        
          <li >
            <a href="/api-guides/tmc/receipts-v4-guide.html">Guide to the Receipts v4.0 API, TMC Edition</a>
          </li>
        
          <li >
            <a href="/api-guides/tmc/request-v4-guide.html">Guide to the Request v4.0 API, TMC Edition</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle active">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-travel">
        Travel
      </a>
      <ul id="collapse-travel" class="collapse in">
        
          <li >
            <a href="/api-guides/travel/deeplink-integration.html">Deep Link Integration</a>
          </li>
        
          <li >
            <a href="/api-guides/travel/duty-of-care.html">Duty of Care</a>
          </li>
        
          <li  class="active" >
            <a href="/api-guides/travel/get-itinerary.html">Itinerary - GET Itinerary & Trip Details</a>
          </li>
        
          <li >
            <a href="/api-guides/travel/new-itinerary-manual.html">Itinerary - Add a New Itinerary Manually</a>
          </li>
        
          <li >
            <a href="/api-guides/travel/itin-with-events.html">Itinerary - Business Travel Events</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-user-provisioning">
        User Provisioning
      </a>
      <ul id="collapse-user-provisioning" class="collapse ">
        
          <li >
            <a href="/api-guides/user-provisioning/user-provisioning.html">User Provisioning</a>
          </li>
        
      </ul>
    </li>

  



  
    <li class="list-group-item ">
      <a href="/api-guides/vat-reclaim/vat-reclaim-guide.html">VAT Reclaim Integration</a>
    </li>

  



</ul>

    </div>
    <!--/col-md-3-->

    
      <div id="markdown-body"
           class="col-md-8 markdown-body">
        

        <h1 id="itinerary---get-itinerary--trip-details">Itinerary - GET Itinerary &amp; Trip Details</h1>

<h2 id="api-recipes-api-tasks">API Recipes: API Tasks</h2>
<p>This series of API Recipes describes API tasks associated with developing apps,  apps for Travel Management Companies, (TMC), Travel Suppliers and businesses who need to get data about their employees’ travel related booking.  This recipe assumes you are a current customer or platform partner.</p>

<h3 id="before-you-begin">Before You Begin</h3>
<p>Review the following checklist to ensure you are able to perform the task in this recipe. To see reference information, click the link in the bullet point</p>

<ul>
  <li>Understand the <a href="/api-reference/authentication/getting-started.html">authentication process</a></li>
  <li>Be able to access the <a href="https://developer.concur.com/api-reference/travel/itinerary/trip/trip-resource.html#postnt">Get Trips API</a></li>
  <li>Be able to access the <a href="https://developer.concur.com/api-reference/travel/itinerary-tmc-thirdparty/index.html">Itinerary Web Service (TMC &amp; Third Party)</a></li>
  <li>Ensure you have a definition <a href="https://developer.concur.com/api-reference/travel/itinerary/ItinServices_Public_0.xsd">XSD</a>, usable for architecting your solution</li>
</ul>

<h3 id="get-itinerary-and-trip-details-pulling-itinerary-trip-data">Get Itinerary and Trip Details: Pulling Itinerary Trip Data</h3>

<p>Developers, travel suppliers and travel management companies will want to use the processes described in this recipe.</p>

<ul>
  <li>With an authorized Oauth token, <strong>Developers</strong> can retrieve detailed itineraries for users or user groups. Using this data allows developers to create applications that match opportunities for users in a given locale, region or country specific to user interests.  For example, TV Food Maps matches destinations on a user’s itinerary to notify them of a featured restaurant from a TV show like Diners, DriveIns and Dives near the location of their itinerary</li>
  <li><strong>Travel Suppliers</strong> can use the processes to analyze itineraries/trips for gaps in such services as car rental and hotel accommodations, and use the information to offer these services. This is particularly useful if you want to provide an enhanced travel experience for your users</li>
  <li><strong>Travel Management Companies</strong> can use these processes to analyze individual or company travel data, offer traveler support services, Triplink support or business intelligence and analytics</li>
</ul>

<p>The order in which most partners obtain travel data is:</p>

<ol>
  <li>Manually add a new itinerary. This creates a sample trip that allows the developer to retrieve their first itinerary via the API and with the response and the XSD, build a schema or data structure.</li>
  <li>Populate internal systems by building a scheduled process to poll for itineraries based on specific function parameters.</li>
  <li>Use the list of itineraries to obtain greater trip details. Most travel suppliers and TMC’s will retrieve trip details based on day, time period or users.</li>
</ol>

<p>Each of these processes can be used by itself. For example if a travel supplier only wanted to obtain itinerary details, they can follow the Get Itinerary Details process described below.</p>

<h4 id="get-list-of-itineraries">Get List of Itineraries:</h4>
<p>The GET List of Itineraries required for the Get Itinerary endpoint is located in the official SAP Concur developer page <a href="https://developer.concur.com/api-reference/travel/itinerary-tmc-thirdparty/index.html#getlist">here</a>.</p>

<h5 id="if-you-are-a-developer-and-only-want-to-get-the-get-itinerary-api-use-the-process-which-follows">If you are a developer and only want to get the GET Itinerary API use the process which follows:</h5>

<p>If you have not configured your sandbox to obtain access, you can make that request from the Support Page <a href="https://developer.concur.com/api-reference/">here</a>.  Remember to include the name of the SAP Concur representative you with whom you are working in the form.</p>

<p>If you have configured your sandbox, the GET List of Itineraries required for the Get Itinerary endpoint is located in the official SAP Concur developer page <a href="https://developer.concur.com/api-reference/travel/itinerary-tmc-thirdparty/index.html">here</a>.</p>

<h5 id="important">Important</h5>
<ul>
  <li>Use the Itinerary scope. More details <a href="/api-reference/authentication/apidoc.html">here</a>. Use the search term ITINER</li>
  <li>Use either Web flow or Apps Center flow authentication</li>
  <li>Ensure that your dates are recent</li>
</ul>

<p>This task retrieves trip summaries for the traveler specified in the Oauth token. This endpoint can also be used to get details for trips for a different user, organization or for the entire company. Get List of Itineraries is used most often when a Travel management Company (TMC) needs to retrieve a list of trips on behalf of a user or company.</p>

<h4 id="examples">Examples:</h4>
<p>Entire Company (Oauth consumer must have Admin user role)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.concursolutions.com/api/travel/trip/v1.1/?startDate={startdate}&amp;endDate={enddate}&amp;_createdAfterDate={_date}&amp;createdBeforeDate={date}&amp;lastModifiedDate={date}&amp;bookingType={type}&amp;userid_type=login&amp;userid_value=ALL
</code></pre></div></div>

<p>Individual user (Oauth consumer)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.concursolutions.com/api/travel/trip/v1.1/?startDate={startdate}&amp;endDate={enddate}&amp;_createdAfterDate={_date}&amp;createdBeforeDate={date}&amp;lastModifiedDate={date}&amp;bookingType={type}
</code></pre></div></div>

<p>Individual user (other than the Oauth consumer)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.concursolutions.com/api/travel/trip/v1.1/?startDate={startdate}&amp;endDate={enddate}&amp;_createdAfterDate={_date}&amp;createdBeforeDate={date}&amp;lastModifiedDate={date}&amp;bookingType={type}&amp;userid_type=login_id&amp;userid_value={loginID}
</code></pre></div></div>

<p>Additional examples can be viewed <a href="https://developer.concur.com/api-reference/travel/itinerary-tmc-thirdparty/index.html#getlist">here</a>.</p>

<h5 id="function-parameters">Function Parameters</h5>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>tripId</td>
      <td>The trip ID</td>
    </tr>
    <tr>
      <td>startDate={<em>date</em>}</td>
      <td>The URL-encoded UTC start date for the trip. Format: YYYY-MM-DD. If no query parameters are provided, the start date is set to today’s date - 30 days.</td>
    </tr>
    <tr>
      <td>endDate<em>**</em>={<em>date</em>}</td>
      <td>The URL-encoded UTC end date for the trip. Format: YYYY-MM-DD. If no query parameters are provided, the end date is set to today’s date + 12 months.</td>
    </tr>
    <tr>
      <td>createdAfterDate<em>**</em>={<em>date</em>}</td>
      <td>The URL-encoded UTC date for when the trip was created. The query string will return trips created on or after this date. Used with the createdafterdate for finding trips created during a date range. Format: YYYY-MM-DD</td>
    </tr>
    <tr>
      <td>createdBeforeDate<em>**</em>={<em>date</em>}</td>
      <td>The last modified UTC date of the trips and any their associated bookings. This query string will return only the trips where the trip or any of its associated bookings have a last modified date that is greater or equal to the supplied time</td>
    </tr>
    <tr>
      <td>lastModifiedDate<em>**</em>={<em>date</em>}</td>
      <td>The trip includes at least one booking of this type. Format: Air, Car, Dining, Hotel, Parking, Rail, or Ride</td>
    </tr>
    <tr>
      <td>bookingType={<em>type</em>}</td>
      <td>The trip includes at least one booking of this type. Format: Air, Car, Dining, Hotel, Parking, Rail, or Ride</td>
    </tr>
    <tr>
      <td>userid_type=login&amp;userid_value=<em>{loginID}</em></td>
      <td>The loginID is the user’s SAP Concur login ID. The userid_value of ALL can be sent to get trip summaries for all users at the company. The userid_type and userid_value parameters can only be used if the OAuth consumer has one of the user roles listed above.</td>
    </tr>
    <tr>
      <td>includeMetadata=true&amp;ItemsPerPage={<em>number</em>}&amp;Page={<em>number</em>}</td>
      <td>The includeMetadata query parameter combined with the ItemsPerPage and Page query parameters will cause the response to be divided into pages.</td>
    </tr>
    <tr>
      <td>includeVirtualTrip=<em>1</em></td>
      <td>Virtual trips are segments booked offline through the Travel Request product. Set the includeVirtualTrip query parameter to 1 to include those trips in the list</td>
    </tr>
    <tr>
      <td>includeCanceledTrips=<em>{true/false}</em></td>
      <td>The includeCanceledTrips query parameter will cause the request to also return trips with a status of Canceled.</td>
    </tr>
  </tbody>
</table>

<p>Refer to the sample <a href="https://developer.concur.com/api-reference/travel/itinerary-tmc-thirdparty/index.html#getdetails">XML GET Itinerary Details Get request</a> for guidance.</p>

<h3 id="get-itinerary-details">Get Itinerary details</h3>
<p>This process allows developers, travel suppliers and travel management companies to obtain details on itineraries for specific trips. By default, the Oauth consumer should be the owner of the trip. The Get Itinerary endpoint can also be used to get details for trips that the Oauth consumer does not own. Travel management companies use this process to get trip details on behalf of a user. This assumes the TMC is registered with SAP Concur and possesses a valid account with one the following user roles: Web Services Administrator for Professional, or Can Administer for Standard.</p>

<h5 id="function-parameters-1">Function Parameters</h5>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{<em>tripId</em>}</td>
      <td>Required. The identifier for the desired trip</td>
    </tr>
    <tr>
      <td>userid_type=login&amp;userid_value=<em>{loginID}</em></td>
      <td>The loginID is the user’s SAP Concur login ID. The userid_value of ALL can be sent to get trip summaries for all users at the company.</td>
    </tr>
    <tr>
      <td>systemFormat=<em>{format}</em></td>
      <td>The systemFormat query parameter can be used to specify that the response is formatted for a different system. The supported value is Tripit.</td>
    </tr>
  </tbody>
</table>

<p>The request returns an itinerary parent element with a subset of child elements. A partial list appears below. The complete list is located <a href="https://developer.concur.com/api-reference/travel/itinerary-tmc-thirdparty/index.html#getdetails">here</a>.</p>

<h5 id="parent-element-parameters">Parent element parameters</h5>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>BookedByFirstName</td>
      <td>The first name of the person who booked the trip.</td>
    </tr>
    <tr>
      <td>BookedByLastName</td>
      <td>The last name of the person who booked the trip.</td>
    </tr>
    <tr>
      <td>BookedVia</td>
      <td>The booking method for the trip.</td>
    </tr>
    <tr>
      <td>CancelComments</td>
      <td>The comments provided if the itinerary is cancelled. Maximum length: 256 characters.</td>
    </tr>
    <tr>
      <td>Comments</td>
      <td>Optional comments. Maximum length: 512 characters.</td>
    </tr>
    <tr>
      <td>DateBookedLocal</td>
      <td>The date the trip was booked, in the local time of the booking location. Format: YYYY-MM-DDThh:mm:ss</td>
    </tr>
    <tr>
      <td>DateCreatedUtc</td>
      <td>The date that this trip was created, in UTC. Format: YYYY-MM-DDThh:mm:ss</td>
    </tr>
  </tbody>
</table>

<h5 id="booking-child-elements">Booking Child elements</h5>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>BookingSource</td>
      <td>The name of the booking source for this booking. A booking source is a textual name the system uses to track where a booking took place.</td>
    </tr>
    <tr>
      <td>DateBookedLocal</td>
      <td>The name of the booking source for this booking. A booking source is a textual name the system uses to track where a booking took place.</td>
    </tr>
    <tr>
      <td>DateCreatedUtc</td>
      <td>The date the booking was created, in UTC. Format: YYYY-MM-DDThh:mm:ss</td>
    </tr>
    <tr>
      <td>DateModifiedUtc</td>
      <td>The date the booking was last modified, in UTC. Format: YYYY-MM-DDThh:mm:ss</td>
    </tr>
    <tr>
      <td>FormOfPaymentName</td>
      <td>The name of the form of payment for the booking.</td>
    </tr>
    <tr>
      <td>FormOfPaymentType</td>
      <td>The type of the form of payment.</td>
    </tr>
    <tr>
      <td>PassengerCount</td>
      <td>The number of passengers included in the booking.</td>
    </tr>
  </tbody>
</table>

<h3 id="get-trip-details">Get Trip details</h3>
<p>Developers should build a scheduled process to poll for itineraries or get trips on demand when a user logs onto their website to make a booking. Using the Oauth token of the user for whom you want details as the authorization, perform this two-step process:</p>

<ol>
  <li>GET a list of trips for the user.</li>
  <li>GET the details of each trip one at a time.</li>
</ol>

<p>For more information on how to GET a trip list for a user by using their Oauth token, go <a href="https://developer.concur.com/api-reference/travel/itinerary-tmc-thirdparty/index.html#getlist">here</a>.</p>

<h4 id="example-get-list-of-trips-request">Example Get List of Trips request:</h4>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">https://{InstanceURL}/api/travel/trip/v1.1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">OAuth {user's access token}</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/xml</span>
</code></pre></div></div>
<p>You can also get the details of each trip by using the TripID.
The Get Trip List response includes the unique TripID for each trip.</p>

<h4 id="example-trip-details-request">Example trip details request</h4>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">https://{InstanceURL}/api/travel/trip/v1.1/{TripID}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">OAuth {user's access token}</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/xml</span>
</code></pre></div></div>
<p>Refer to the sample <a href="https://developer.concur.com/api-reference/travel/itinerary/trip/trip-resource.html#gettd">Get trip details for a trip ID</a> for guidance.</p>

<h5 id="important-1">Important</h5>

<p>No itinerary can contain all of the possible elements, because the response will always be a subset of the possible returned values. For full response details, view the <a href="https://developer.concur.com/api-reference/travel/itinerary/ItinServices_Public_0.xsd">Public Itinerary XSD</a>.</p>

<p>Once you have the trip details, look for trips that lack your segment type.</p>

<ul>
  <li>
    <p>For example, if you are a <strong>TripLink</strong> Car Supplier, look for trips that may include a flight but which lack a rental car reservation.</p>
  </li>
  <li>
    <p>If you are a <strong>TripLink</strong> Hotel Supplier, look for trips that may include a flight but which lack a hotel reservation.  If you are polling for trips at an interval, you may choose to email a traveler to offer them your service to add to their upcoming trip.  For example, if you are a TripLink Hotel partner, you may choose to email the traveler: “If you would like to reserve a hotel for your upcoming trip to Boston on 13 December, we are offering a special rate at our property in city center.  Log on here to add a hotel reservation to your trip.”</p>
  </li>
  <li>
    <p>If you are checking for upcoming trips when the traveler logs in to your mobile app or website to make a booking, you may choose to present to the traveler a list of their upcoming trips that lack your segment type.  For example, if you are a <strong>TripLink</strong> Car Supplier, you may choose to present a list of upcoming trips that lack a rental car reservation and allow the traveler to easily add a car rental to that trip, prepopulating the pickup and drop-off locations and dates/times using the information from the trip details.</p>
  </li>
</ul>

<p>In the case of <strong>User Connections</strong> customer who has booked a hotel through the SAP Concur platform:</p>

<ul>
  <li>If your user has downloaded TV Food Maps, they will receive an email as the date of the trip approaches</li>
  <li>The email will indicate which restaurants featured on which TV shows will be near the location at which the employee is staying</li>
</ul>

<h2 id="advanced-information">Advanced Information</h2>

<p>The information in this section is <em>NOT</em>  intended for use by <strong>User Connections</strong> developers.</p>

<h4 id="itinerary-status-and-booking-source">Itinerary Status and Booking Source</h4>

<p>Travel Management Companies will find these two elements in the GET trips response extremely useful when obtaining Trip Details:</p>

<ul>
  <li>The status of the itinerary:  0- Confirmed; 1- Ticketed by agent; 2- Canceled</li>
  <li>Booking Source (refer to the table below)</li>
</ul>

<table>
  <thead>
    <tr>
      <th>How the itinerary was sent to the SAP Concur platform</th>
      <th>BookingOwner</th>
      <th>BookingSource</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Manually added itinerary</td>
      <td>OpenBookingEmail</td>
      <td>Manual</td>
    </tr>
    <tr>
      <td>Itinerary emailed to plans@concur.com</td>
      <td>OpenBookingEmail</td>
      <td>Supplier name, or Manual if parser can’t determine supplier</td>
    </tr>
    <tr>
      <td>Itinerary emailed to plans@tripit.com</td>
      <td>TripIt</td>
      <td>Supplier name, or Manual if parser can’t determine supplier</td>
    </tr>
    <tr>
      <td>Trip posted by TMC using Itinerary API</td>
      <td>ConcurConnectAPI</td>
      <td>Supplier name</td>
    </tr>
    <tr>
      <td>Booking posted by Open Booking Supplier using Itinerary API. <em>Discounts are still applied.</em></td>
      <td>OpenBookingSupplier</td>
      <td>IHG</td>
    </tr>
    <tr>
      <td>Booked in Concur Travel (i.e. Cliqbook) or through an agent (and sent back to Concur Travel), or through  a direct connect.  <em>Discounts are still applied to agent bookings.  We can’t distinguish in the API between user booking via Concur Travel versus booked for them by agent.  We do track this internally</em></td>
      <td>ConcurTravel</td>
      <td>GDS name, or direct connect supplier name</td>
    </tr>
    <tr>
      <td>Amadeus e-Travel Management (AeTM) is an online self-booking tool integrated with Concur Expense.</td>
      <td>AmadeusETravel</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h4 id="subscribe-and-unsubscribe">Subscribe and Unsubscribe</h4>

<blockquote>
  <p><strong>Note</strong>: As part of a security improvement to our authentication infrastructure, the decision has been made to retire notifications for Profile, Form of Payment, and Itinerary for a user or a company because of their handling of OAuth tokens. This functionality has been deprecated as of June 2020.</p>
</blockquote>

<p>Concur Travel Suppliers and Travel Management Companies may need to know how to post a company notification subscription for itinerary changes. Use the information which follows to guide you. More information on these topics can be found in the SAP Concur Developer Center in the resource: <a href="/api-reference/travel-profile/v1.notification-company-resource.html">Subscribe or unsubscribe from notifications</a>.</p>

<p>To subscribe to notifications to be alerted whenever employees who have booked travel through Concur Travel change their travel plans by adding, modifying or canceling an itinerary is referred to as a <strong>POST Company Notification Subscription for Itinerary Changes request</strong>.</p>

<p>To create this request, use the following example as a template. Notice that the request parameter is <strong>Itinerary</strong>. The Request XML string also requires an Oath token for an administrative user in the company. The user must have one of the following user roles: Company Administrator or Web Services Administrator for Professional, or Can Administer for Standard.</p>

<p>XML Example request to subscribe:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">http://www.concursolutions.com/api/company/v1.0/subscribe?type=itinerary</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">OAuth {access token}</span>
<span class="s">...</span>
</code></pre></div></div>

<p>The notification is sent to the Postback URL that the partner has registered during application review. Partners can only have one postback URL for all notification types. The notification will include the type, oauth_token_key, userid_type, and userid_value query parameters, specifying the updated user as seen in the example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://postbackurl.com?type=itinerary&amp;oauth_token_key={oauthtoken}&amp;userid_type=login&amp;userid_value=cm@example.com
</code></pre></div></div>

<p>While the response body includes a Notification parent element, there are several child elements.</p>

<table>
  <thead>
    <tr>
      <th>Element</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ObjectType</td>
      <td>ITINERARY</td>
    </tr>
    <tr>
      <td>ObjectURI</td>
      <td>The URI for the object. The developer can use the appropriate GET endpoint with the ObjectURI to get complete details for the trip.</td>
    </tr>
    <tr>
      <td>EventDateTime</td>
      <td>When the event happened. Format: YYYY-MM-DDThh:mm:ss</td>
    </tr>
    <tr>
      <td>EventType</td>
      <td>The type of the change. Format: CREATE, UPDATE, CANCEL</td>
    </tr>
    <tr>
      <td>Context</td>
      <td>This is not used yet but will be used in future to specify the change in the trip. Developers can use this in conjunction with EventType to decide how to process the notification.</td>
    </tr>
    <tr>
      <td>TripID</td>
      <td>The unique identifier for the trip. Format: String</td>
    </tr>
  </tbody>
</table>

<p>XML Example request to unsubscribe from Itinerary Changes:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.concursolutions.com/api/company/v1.0/unsubscribe?type=itinerary
</code></pre></div></div>

<p>Refer to the sample <a href="/api-reference/travel-profile/v1.notification-company-resource.html#a1">Post Company Notification Subscription for Itinerary Changes Response</a> for guidance.</p>

      </div>
      <!--/col-md-8-->
      
      <div id="markdown-toc"
           class="col-md-2 markdown-toc">
        <div class="markdown-toc-header">
    <h4>On this page</h4>
</div>
<div class="markdown-toc-content">
</div>

      </div>
      <!--/col-md-1-->
      
    </div>
    <!--/row-->
  </div>
  <!--/container-->

  <!-- TOCBOT -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>

<script>
  tocbot.init({
    // Where to render the table of contents.
    tocSelector: '.markdown-toc-content',
    // Where to grab the headings to build the table of contents.
    contentSelector: '.markdown-body',
    // Which headings to grab inside of the contentSelector element.
    headingSelector: 'h1, h2',
    // For headings inside relative or absolute positioned containers within content.
    hasInnerContainers: false,
  });
</script>


    </div>

    <footer class="hidden-print"
        id="footer">
  <div class="col-md-8 footer-copyright">
    <p>
      &copy;
      <script type="text/javascript">
        document.write(new Date().getFullYear());
      </script>
      All Rights Reserved.
      <a href="https://www.concur.com/en-us/privacy-policy">Privacy Policy</a> |
      <a href="/terms-of-use-2021.html">Terms of Use</a> |
      <a href="/tools-support/deprecation-policy.html">API Deprecation Policy</a> |
      <a href="/legal-disclosure.html">Legal Disclosure</a> |
      <a href="https://github.com/SAP-docs/preview.developer.concur.com/blob/main/src/api-guides/travel/get-itinerary.markdown">Edit this page on GitHub</a>
    </p>
  </div>

  <!-- Social Links -->
  <div class="col-md-4 footer-social">
    <ul class="list-inline social-icons">
      <li>
        <a href="https://www.facebook.com/SAPConcur"
           target="_blank">
          <span class="sr-only">Facebook</span>
          <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
      <li>
        <a href="https://www.linkedin.com/company/5822"
           target="_blank">
          <span class="sr-only">LinkedIn</span>
          <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-linkedin-in fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
      <li>
        <a href="https://twitter.com/sapconcur"
           target="_blank">
          <span class="sr-only">Twitter</span>
          <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
      <li>
        <a href="https://www.youtube.com/playlist?list=PLLNSVdjqNPVseaDkR5hSF4CDjnlLK7_nq"
           target="_blank">
          <span class="sr-only">Youtube</span>
          <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
    </ul>
  </div>
  <!-- End Social Links -->
</footer>
<!--/.footer-->

  </div>
  <!--/wrapper-->

  <!-- JS Global Compulsory -->
<script type="text/javascript" src="/assets/plugins/jquery/jquery.min.js"></script>
<script type="text/javascript" src="/assets/plugins/jquery/jquery-migrate.min.js"></script>
<script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script>

<!-- Adobe Analytics Global-->
<script src="https://assets.adobedtm.com/e1226b306979/aeb854337dc8/launch-85c98625c1e8.min.js" async></script>

<!-- Swagger -->
<!-- <script src="/swagger-ui/lib/jquery-1.8.0.min.js" type="text/javascript"></script> -->



<script>
  var replacementURL = "preview.developer.concur.com/api-explorer-proxy";
</script>



<!-- JS Implementing Plugins -->
<script type="text/javascript" src="/assets/plugins/back-to-top.js"></script>
<!-- JS Page Level -->
<script type="text/javascript" src="/assets/js/app.js"></script>
<script type="text/javascript">
  jQuery(document).ready(function() {
    App.init();
  });
</script>

<script>
  var oHeader = document.getElementById("header-navbar");
  var oContent = document.getElementById("main-content");
  var oFooter = document.getElementById("footer");

  // Set content overall height
  var iNewHeight = oContent.offsetHeight - (oHeader.offsetHeight + oFooter.offsetHeight);
  var sHeight = "" + iNewHeight + "px";
  oContent.style.height = sHeight;

  // Set Triple component heights.
  // var oBreadcrumb = document.getElementById("breadcrumbs");
  var oLeftNav = document.getElementById("left-navigation");
  var oMDContent = document.getElementById("markdown-body");
  var oMDToc = document.getElementById("markdown-toc");
  var iViewWidth = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)

  // Widths are 2-8-2 or 2-10 if no MDToc
  var sWidth;
  if (iViewWidth < 989) {
    if (!!oLeftNav) {
      oLeftNav.style.height = 100;
      sWidth = "" + (window.innerWidth * 0.950) + "px";
      oLeftNav.style.maxWidth = sWidth;
    }
  } else {
    if (!!oLeftNav) {
      oLeftNav.style.height = sHeight;
      sWidth = "" + (window.innerWidth * 0.166) + "px";
      oLeftNav.style.maxWidth = sWidth;
    }
    if (!!oMDContent) {
      oMDContent.style.height = sHeight;
      if (!!oMDToc) {
        // 8 / 12
        sWidth = "" + (window.innerWidth *0.66) + "px";
        oMDContent.style.maxWidth = sWidth;
      } else {
        // 10 / 12
        oMDContent.style.maxWidth = window.innerWidth * 0.833;
        sWidth = "" + (window.innerWidth * 0.833) + "px";
        oMDContent.style.maxWidth = sWidth;
      }
    }
    if (!!oMDToc) {
      oMDToc.style.height = sHeight;
      sWidth = "" + (window.innerWidth * 0.166) + "px";
      oMDToc.style.maxWidth = sWidth;
    }
  }
</script>


</body>

</html>
