<!DOCTYPE html>
<html lang="en">

<head>
  


  <title> SAP Concur Developer Center | Guide to the Receipts v4.0 API, TMC Edition</title>


<!-- Meta -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="The starting point for anyone interested in building anything with the Concur platform that reaches 45 million business travelers.">
<meta name="author" content="">


  <meta name="robots" content="noindex">


<!-- Sitemap link -->
<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />

<!-- Favicon -->
<link rel="shortcut icon" href="/assets/img/concur_favicon.ico" type="image/png">

<!-- Canonical link-->
<link rel="canonical" href="https://preview.developer.concur.com/api-guides/tmc/receipts-v4-guide.html" data-proofer-ignore>

<!-- CSS Global Compulsory -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400">
<link rel="stylesheet" href="/assets/style.css">

<!-- CSS Implementing Plugins -->
<link rel="stylesheet" href="/assets/plugins/font-awesome/css/all.min.css">



<link rel="alternate" type="application/rss+xml" title="SAP Concur Developer Center RSS" href="/feed.xml" />


</head>

<body>


  <div class="wrapper page-option-v1">
    <div class="hidden-print">
  <nav id="header-navbar" class="navbar navbar-inverse hidden-print">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header col-6">
        <button type="button" class="navbar-toggle collapsed" style="color: white" data-toggle="collapse" data-target="#nav-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">
          <img src="/assets/img/concur_logo_white_gold.png" alt="Logo">
          <div class="app-name">Developer Center</div>
        </a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse col-6" id="nav-collapse-1">
        <ul class="nav navbar-nav navbar-right" style="padding-top: 9px">
          <!-- Development -->
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" style="color: white" role="button" aria-haspopup="true">
              Development <span class="caret"></span>
            </a>
            <ul class="dropdown-menu multi-column three-column-menu">
              <div class="row">
                <div class="col-sm-4">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-map-marked-alt fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">About</li>
                    <li><a href="/getting-started.html">Getting Started</a></li>
                    <li><a href="/api-reference/authentication/getting-started.html">Authentication</a></li>
                    <li><a href="/platform/index.html">Platform</a></li>
                    <li><a href="/tools-support/deprecation-policy.html">API Deprecation</a></li>
                  </ul>
                </div>
                <div class="col-sm-4">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-book fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">Documentation</li>
                    <li><a href="/api-reference/">API Reference</a></li>
                    <li><a href="/api-explorer/">API Explorer</a></li>
                    <li><a href="/api-guides/">API Guides</a></li>
                    <li><a href="/event-topics/">Event Topics</a></li>
                  </ul>
                </div>
                <div class="col-sm-4">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-clipboard-list fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">UX Guidelines</li>
                    <li><a href="/manage-apps/go-market-docs/app-center-ux-guidelines-enterprise.html">Enterprise Applications</a></li>
                    <li><a href="/manage-apps/go-market-docs/app-center-ux-guidelines-consumer.html">User Connections</a>
                    </li>
                  </ul>
                </div>
              </div>
            </ul>
          </li>
          <!-- Partner Resources -->
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" style="color: white" aria-haspopup="true" aria-expanded="false">
              Partner Resources <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li class="column-icon">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fas fa-lightbulb fa-stack-1x fa-inverse"></i>
                </span>
              </li>
              <li class="column-title">Partner Resources</li>
              <li><a href="/manage-apps/app-certification.html">App Certification</a></li>
              <li><a href="/manage-apps/partner-applications.html">App Registration & Management</a></li>
              <li><a href="/manage-apps/redirect.html">Go to Market</a></li>
              <li><a href="https://www.concur.com/en-us/app-center" target="_blank">App Center</a></li>
              <li><a href="https://www.concursolutions.com/" target="_blank">Login to Concur</a></li>
            </ul>
          </li>
          <!-- Support -->
          <li
            class="dropdown">
            <a href="#" class="dropdown-toggle" style="color: white" data-toggle="dropdown" role="button" aria-haspopup="true">
              Support <span class="caret"></span>
            </a>
            <ul class="dropdown-menu multi-column two-column-menu">
              <div class="row">
                <div class="col-sm-6">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-question fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">Support</li>
                    <li><a href="/tools-support/support.html">Support Options</a></li>
                    <li><a href="https://open.concur.com/" target="_blank">Service Status</a></li>
                  </ul>
                </div>
                <div class="col-sm-6">
                  <ul class="multi-column-dropdown">
                    <li class="column-icon">
                      <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fas fa-bullhorn fa-stack-1x fa-inverse"></i>
                      </span>
                    </li>
                    <li class="column-title">Bulletin</li>
                    <li><a href="/announcements/index.html">Announcements</a></li>
                    <li><a href="/tools-support/release-notes/index.html">Release Notes</a></li>
                  </ul>
                </div>
              </div>
            </ul>
          </li>
          <!-- Search -->
          <li>
            <a href="#" class="search">
              <span class="sr-only">Search</span>
              <i class="fas fa-search search-btn" style="color:white;"></i>
            </a>
            <div class="search-open">
              <div class="input-group animated fadeInDown">
                <form method="GET" action="/search.html" id="searchbox_000165422556797149853:qlbg8re_3tu">
                  <input value="000165422556797149853:qlbg8re_3tu" name="cx" type="hidden">
                  <input value="FORID:11" name="cof" type="hidden"> <!-- FORID values configure ad positions -->
                  <div class="input-group">
                    <label for="q" hidden>Search</label>
                    <input type="text" id="q" class="form-control" name="q" placeholder="Search">
                    <span class="input-group-btn">
                      <button type="submit" class="btn bright-blue">Go</button>
                    </span>
                  </div>
                </form>
              </div>
            </div>
          </li>
        </ul> <!-- /.navbar-nav -->
      </div> <!-- /.navbar-collapse -->
  </nav> <!-- /.navbar -->
</div>


    <div id="main-content"
         class="main-content">
      <div class="container-fluid content">
  <div class="row">
    <div id="left-navigation"
         class="col-md-2 left-navigation">
      







<ul class="list-group sidebar-nav-v1 hidden-print" id="sidebar-nav">





  
    <li class="list-group-item ">
      <a href="/api-guides/">Integration Guides</a>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-attendees">
        Attendees
      </a>
      <ul id="collapse-attendees" class="collapse ">
        
          <li >
            <a href="/api-guides/attendees/external-attendees-to-expense-entries.html">Expense - Associating External Attendees to Expense Entries</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-direct-connect-hotel-v2">
        Direct Connect - Hotel v2
      </a>
      <ul id="collapse-direct-connect-hotel-v2" class="collapse ">
        
          <li >
            <a href="/api-guides/hotelservice2/hotel-shop-book-cancel.html">Search, Reserve, and Cancel Walkthrough</a>
          </li>
        
          <li >
            <a href="/api-guides/hotelservice2/faq.html">Frequently Asked Questions</a>
          </li>
        
      </ul>
    </li>

  



  
    <li class="list-group-item ">
      <a href="/api-guides/e-receipts.html">eReceipts Integration</a>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-expense">
        Expense
      </a>
      <ul id="collapse-expense" class="collapse ">
        
          <li >
            <a href="/api-guides/expense/deeplink-url.html">Deeplink URL</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-erp-integration">
        ERP Integration
      </a>
      <ul id="collapse-erp-integration" class="collapse ">
        
          <li >
            <a href="/api-guides/ERP-integration/erp-integration.html">ERP Integrations</a>
          </li>
        
          <li >
            <a href="/api-guides/ERP-integration/posting-via-financial-integration-service.html">Financial Posting via Financial Integration Service</a>
          </li>
        
          <li >
            <a href="/api-guides/ERP-integration/posting-via-extracts.html">Financial Posting via Extracts</a>
          </li>
        
          <li >
            <a href="/api-guides/ERP-integration/funds-management-integration.html">Funds Management Integration Guide</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-invoice">
        Invoice
      </a>
      <ul id="collapse-invoice" class="collapse ">
        
          <li >
            <a href="/api-guides/invoice/payment-provider-integration.html">Payment Provider Integration - paying customers' invoices</a>
          </li>
        
      </ul>
    </li>

  



  
    <li class="list-group-item ">
      <a href="/api-guides/preproduction-testing.html">Testing App Center Partner Applications</a>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle active">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-tmc">
        TMC
      </a>
      <ul id="collapse-tmc" class="collapse in">
        
          <li >
            <a href="/api-guides/tmc/tmc-overview.html">TMC Guide Overview</a>
          </li>
        
          <li >
            <a href="/api-guides/tmc/itinerary-v1-guide.html">Guide to the Itinerary v1.0 API, TMC Edition</a>
          </li>
        
          <li >
            <a href="/api-guides/tmc/profile-v2-guide.html">Guide to the Profile v2.0 API, TMC Edition</a>
          </li>
        
          <li  class="active" >
            <a href="/api-guides/tmc/receipts-v4-guide.html">Guide to the Receipts v4.0 API, TMC Edition</a>
          </li>
        
          <li >
            <a href="/api-guides/tmc/request-v4-guide.html">Guide to the Request v4.0 API, TMC Edition</a>
          </li>
        
      </ul>
    </li>

  



  

    

    

    

    <li class="list-group-item list-toggle ">
      <a data-toggle="collapse" data-parent="#sidebar-nav" href="#collapse-travel">
        Travel
      </a>
      <ul id="collapse-travel" class="collapse ">
        
          <li >
            <a href="/api-guides/travel/duty-of-care.html">Duty of Care</a>
          </li>
        
          <li >
            <a href="/api-guides/travel/get-itinerary.html">Itinerary - GET Itinerary & Trip Details</a>
          </li>
        
          <li >
            <a href="/api-guides/travel/new-itinerary-manual.html">Itinerary - Add a New Itinerary Manually</a>
          </li>
        
          <li >
            <a href="/api-guides/travel/itin-with-events.html">Itinerary - Business Travel Events</a>
          </li>
        
      </ul>
    </li>

  



  
    <li class="list-group-item ">
      <a href="/api-guides/vat-reclaim/vat-reclaim-guide.html">VAT Reclaim Integration</a>
    </li>

  



</ul>

    </div>
    <!--/col-md-3-->

    
      <div id="markdown-body"
           class="col-md-8 markdown-body">
        

        <h1 id="guide-to-the-receipts-v40-api-tmc-edition">Guide to the Receipts v4.0 API, TMC Edition</h1>
<p>Last Revised: October 13 , 2020</p>

<p>This endpoint provides partner merchants the ability to post a travel invoice on behalf of a traveler using the eReceipts API v4.0. The Receipts API v4.0 API allows RESTful developed applications to use the agency’s merchandising system to post fees, service charges, change fees, etc. as an electronic receipt (also referred to as a travel invoice) directly to the user’s account in Concur Expense. This endpoint requires OAuth v2.0 and uses UUID as the matching fact for the user.</p>

<p>This guide is part of a collection designed for TMCs, to read the shared content about audience, development, authentication, and other key information see the <a href="/api-guides/tmc/tmc-overview.html">TMC Guide Overview</a>.</p>

<h2 id="application-scopes">Application Scopes</h2>

<p>Development Receipts v4.0 API applications by default will have the following scopes registered:</p>

<ul>
  <li>openid</li>
  <li>user.read</li>
  <li>company.read</li>
  <li>FOP</li>
  <li>GHOST</li>
  <li>TRVPRF</li>
  <li>PASSV</li>
  <li>EMERG</li>
  <li>TSAI</li>
  <li>TMCSP</li>
  <li>MEDIC</li>
  <li>UNUTX</li>
  <li>NOTIF</li>
  <li>COMPD</li>
  <li>ITINER</li>
  <li>receipts.read</li>
  <li>receipts.write</li>
</ul>

<p>For security purposes, production Receipts API v4.0 applications will have limited scopes registered. The designated scopes are:</p>

<ul>
  <li>openid</li>
  <li>user.read</li>
  <li>company.read</li>
  <li>receipts.writeonly</li>
</ul>

<p>Explanations for scopes are documented at https://developer.concur.com/api-reference/authentication/scopes.html</p>

<p>If you wish to have your production application(s) include additional scopes or endpoints, you must submit a request to the technical enablement team, if additional scopes are added you must have your application re-certified.</p>

<h2 id="geolocation"><a name="geolocation"></a>Geolocation</h2>

<table>
  <thead>
    <tr>
      <th>Host Location</th>
      <th>Geolocation based on location of Company GUID</th>
      <th>URL to use for Receipts API v4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>EMEA</td>
      <td>https://emea.api.concursolutions.com/oauth2/v0/token</td>
      <td>https://emea.api.Concursolutions.com/receipts/v4/users/</td>
    </tr>
    <tr>
      <td>US</td>
      <td>https://us.api.concursolutions.com/oauth2/v0/token</td>
      <td>https://us.api.Concursolutions.com/receipts/v4/users/</td>
    </tr>
    <tr>
      <td>PSCC</td>
      <td>https://usg.api.Concursolutions.com/oauth2/v0/token</td>
      <td>https://usg.api.Concursolutions.com/receipts/v4/users/</td>
    </tr>
  </tbody>
</table>

<h2 id="user-profile-web-service">User Profile Web Service</h2>

<h3 id="get-user-information">Get User Information</h3>

<p>https://developer.concur.com/api-explorer/v3-0/Users.html</p>

<p>UUID is required for the Receipts v4.0 API. UUID is available via the Travel Profile v2.0 API. It may be necessary to use the User API to retrieve the user’s UUID if you are storing login ID and email ID but not yet transitioned to the Travel Profile API.</p>

<p>Use the following request parameters to filter your searches:</p>

<h3 id="retrieve-uuid-for-all-active-users">Retrieve UUID for All Active Users</h3>

<p>GET</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://us.api.concursolutions.com/users?offset= 10 0&amp;limit=100 0 &amp;isactive=true
Authorization: Bearer {access_token}
</code></pre></div></div>

<h3 id="retrieve-uuid-by-login-id">Retrieve UUID by Login ID</h3>

<p>GET</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://us.api.concursolutions.com/users/?loginid=logind_id@domain
Authorization:Bearer {access_token}
</code></pre></div></div>

<h3 id="retrieve-uuid-by-primary-email-id">Retrieve UUID by Primary Email ID</h3>

<p>GET</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://us.api.concursolutions.com/users/?primaryemail=email@domain.com
Authorization: Bearer {access_token}
</code></pre></div></div>

<p>RESPONSE</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
    "total": "1",
    "offset": 0,
    "limit": 100,
    "companyinfo": {
        "name": "Company Name, Inc",
        "address": "601 108th Ave NE \ Suite 1000",
        "city": "Bellevue",
        "state": "WA",
        "zip": "98004",
        "country": "US"
    },
    "Items": [
        {
            "Active": true,
            "CountryCode": "US",
            "CellPhoneNumber": "425-590-5000",
            "PrimaryEmail": "Email1@domain.com",
            "EmployeeID": 106,
            "ID": "### UUID ####",
            "Emails": {
                "PrimaryEmail": "Email1@domain.com",
                "VerifiedEmail": null,
                "email2": "Email2@domain.com",
                "email3": "",
                "email4": "",
                "email5": ""
            },
            "OrganizationUnit": null,
            "MiddleName": "Middle",
            "LastName": "Last
            "FirstName": "first",
            "LoginID": "login_id@domain.com"
        }
    ]
}
</code></pre></div></div>

<h2 id="receipts-api-v40--general-type">Receipts API v4.0 – General Type</h2>

<p>Version 4.0 of the Receipts API offers features like more receipt types, automatic e-receipt generation in end user’s preferred language, and ability for partners to provide detailed tax information. Unlike version 3.0, we are discontinuing the use of matching facts; instead the partner will have to create a receipt for a specific enduser. Receipts 4.0 works only with the new Authentication API and uses JSON as its data interchange format.</p>

<p>The Receipts API supports several receipt types – documented here: https://developer.concur.com/api-reference/receipts/supported-receipt-types.html.</p>

<p>The available schemas for specific receipt types are reserved for Concur Travel partners, also known as Triplink Suppliers, for their specific types. Triplink Supplier partners and App Center Partners must have Triplink and App Center partnership agreements before their applications can be certified. App Center partnership agreements are also required for ground transportation and ride share receipt providers.</p>

<p>The General receipt type is available for Agency POS transactions as they do not fall under any of the Supplier specific receipt types. The definition is documented here: https://developer.concur.com/api-reference/receipts/supported-receipt-types.html#general-receipt.</p>

<p>The Receipts v 4 .0 API accepts three different formats for posting a receipt:</p>

<ul>
  <li><strong>Receipt Data</strong> - Your receipt data is stored along with a system generated receipt image file.</li>
  <li><strong>Receipt Data &amp; Receipt Image</strong> - Your receipt data and receipt image file are stored.</li>
  <li><strong>Receipt Image w/o Data</strong> - Your receipt image file is stored along with some accompanying metadata.</li>
</ul>

<p>All of the above are valid receipt resources, but the service draws a distinction between resources with data versus resources that are standalone images.</p>

<p>Resources of standalone images are referred to as Image-Only Receipts.</p>

<p>Resources with data are schema-enforced and are referred to as e-receipts. This is
the recommended method.</p>

<h2 id="create-a-receipt---general">Create a Receipt - General</h2>

<h3 id="create-a-basic-general-receipt-type">Create a Basic General Receipt Type</h3>

<p>REQUEST</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST https://us.api.concursolutions.com/receipts/v4/users/{uuid}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Content-type:application/json
Authorization: Bearer {access_token}
</code></pre></div></div>

<p>BODY</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"reference": "Invoice #100539586",
"dateTime": "2020-07-20T00:00:00-0800",
"total": "20.00",
"subtotal": "18.00",
"taxesTotal": "2.00",
"currencyCode": "USD",
"seller": {
   "name": "Travel Agency, Inc",
   "location": {
      "name": "Booking Fee",
      "number": "100539586",
      "latitude": 37.80062,
      "longitude": -122.40027,
      "internetAddress": "https://www.concursolutions.com/",
      "emailAddress": "https://www.concursolutions.com/",
      "telephoneNumber": "(888)555-1212",
      "faxNumber": "",
      "address": {
         "streetAddress": "601 108th Ave NE #1000",
         "addressLocality": "Bellevue ",
         "addressRegion": "WA",
         "addressCountry": "US",
         "postalCode": "98004"
      }
   }
},
"taxes": [
   {
      "authority": {
         "addressCountry": "US",
         "addressRegion": "WA"
      },
      "name": "Local Sales Tax",
      "rate": 10,
      "amount": "2.00"
   }
],
"payments": [
   {
      "amount": "20.00",
      "cardDetail": {
         "cardType": "American Express",
         "creditCardId": "1009",
         "authorizationCode": "AB987654321"
      }
   }
],
"lineItems": [
   {
      "sequenceNumber": 1,
      "reference": "",
      "description": "Invoice# 100539586 ",
      "quantity": 1,
      "unitCost": "19.00",
      "subtotal": "19.00",
      "taxesTotal": "2.00",
      "total": "20.00",
      "taxes": [
         {
            "authority": {
               "addressCountry": "US",
               "addressRegion": "WA"
            },
            "name": "Discount",
            "rate": 5,
            "amount": "-1.00"
         }
      ]
   }
]
}
</code></pre></div></div>

<p>RESPONSE</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>201 Created
</code></pre></div></div>

<p>The rendered receipt in Concur Expense as an available expense will look like this:</p>

<blockquote>
  <p><strong>NOTE</strong>: A “Seller Name” must be defined and submitted to your partner enablement representative as your identifier. A minimum 100x100 pixel image file of your organization’s logo should be submitted as well. The logo image will automatically be rendered onto your eReceipt upon viewing.</p>
</blockquote>

<blockquote>
  <p><strong>NOTE</strong>: Store the concur-correlationid value returned in the header response for logging, troubleshooting, or case escalation purposes.</p>
</blockquote>

<blockquote>
  <p><strong>NOTE</strong>: Make note of the geolocation where the company user exists to POST the eReceipt correctly. If the user’s geolocation is unknown or incorrect then default the request to https://us.api.concursolutions.com. The error message will return the correct geolocation for the user.</p>
</blockquote>

<h2 id="embed-uuid-as-a-remark">Embed UUID as a Remark</h2>

<p>It may be necessary to capture the UUID of the traveler during the booking process, especially if LoginID or other unique identifiers are being used.</p>

<p>One method currently available is to include UUID as an element in General Remarks-Ticketing. Below is an example from the Template Editor:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GeneralRemark (Ticketing)
Element Prefix:B¥CTUUID-
User/UUID
</code></pre></div></div>

<p>Upon finishing, parse the UUID and use that value to post the receipt upon completion of the sales transaction or purchasing process. Refer to the PNR Finishing / Template Editor documentation here: https://www.concurtraining.com/customers/tech_pubs/TravelDocs/TSGs/PNRFinishingEditor.pdf</p>

<blockquote>
  <p><strong>NOTE</strong>: Only authorized and certified Agency or Concur Travel configuration specialists should consider making the suggested changes.</p>
</blockquote>

<h2 id="receipt-retrieval">Receipt Retrieval</h2>

<p>The Receipts V4 API provides GET access to single user’s receipts that have been submitted through the API via UUID. The response will return a comprehensive list of receipts associated to the user.</p>

<p>Images for receipts directly associated to expense reports, entries, or requests should be obtained via the <a href="https://developer.concur.com/api-reference/image/v1.image.html">Image v1 API</a>. Only the rendered receipt image file will be returned. Examples of applications that should use the Image v1 API versus the Receipts v4 API include ERP integrations for financial journal entry postings, VAT reclaim integrations that obtain expense transactions to calculate VAT reclaim, project billing integrations used to substantiate expenses billed back, or business intelligence tools to track actual expenses vs budgets.</p>

<h3 id="retrieve-receipts-for-the-user-by-uuid">Retrieve Receipts for the User by UUID</h3>

<p>REQUEST</p>

<p>GET</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://us.api.concursolutions.com/receipts/v4/users/{uuid}
Content-type:application/json
Authorization: Bearer {access_token}
</code></pre></div></div>

<p>RESPONSE</p>

<p>200</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
    "receipts": [
        {
            "stateModifiedAt": "2020-10-05T15:13:14.426Z",
            "modifiedAt": "2020-10-05T15:13:14.426Z",
            "companyId": "################",
            "dateTimeReceived": "2020-10-05T15:13:14.426Z",
            "entityId": "#############",
            "validationSchema": "http://schema.concursolutions.com/general-receipt.schema.json",
            "receipt": {
                "merchant": {
                    "name": "Travel Agency, Inc",
                    "location": {
                        "number": "100539586",
                        "emailAddress": "https://www.concursolutions.com/",
                        "telephoneNumber": "(888)555-1212",
                        "address": {
                            "addressCountry": "US",
                            "addressLocality": "Bellevue ",
                            "addressRegion": "WA",
                            "streetAddress": "601 108th Ave NE #1000",
                            "postalCode": "98004"
                        },
                        "latitude": 37.80062,
                        "name": "Booking Fee",
                        "faxNumber": null,
                        "internetAddress": "https://www.concursolutions.com/",
                        "longitude": -122.40027
                    }
                },
                "reference": "Invoice #100539586",
                "dateTime": "2020-10-03T00:00:00-08:00",
                "seller": {
                    "name": "Travel Agency, Inc",
                    "location": {
                        "number": "100539586",
                        "emailAddress": "https://www.concursolutions.com/",
                        "telephoneNumber": "(888)555-1212",
                        "address": {
                            "addressCountry": "US",
                            "addressLocality": "Bellevue ",
                            "addressRegion": "WA",
                            "streetAddress": "601 108th Ave NE #1000",
                            "postalCode": "98004"
                        },
                        "latitude": 37.80062,
                        "name": "Booking Fee",
                        "faxNumber": null,
                        "internetAddress": "https://www.concursolutions.com/",
                        "longitude": -122.40027
                    }
                },
                "lineItems": [
                    {
                        "reference": null,
                        "sequenceNumber": 1,
                        "total": "20.00",
                        "quantity": 1,
                        "taxesTotal": "2.00",
                        "subtotal": "19.00",
                        "unitCost": "19.00",
                        "description": "Invoice# 100539586 ",
                        "taxes": [
                            {
                                "name": "Discount",
                                "amount": "-1.00",
                                "rate": 5,
                                "authority": {
                                    "addressCountry": "US",
                                    "addressRegion": "WA"
                                }
                            }
                        ]
                    }
                ],
                "app": "https://us.api.concursolutions.com/profile/v1/apps/dafc536c-8cf7-42be-8d40-d8f9a5a79d96",
                "total": "20.00",
                "taxesTotal": "2.00",
                "subtotal": "18.00",
                "payments": [
                    {
                        "cardDetail": {
                            "cardType": "American Express",
                            "authorizationCode": "AB987654321",
                            "creditCardId": "1009"
                        },
                        "amount": "20.00"
                    }
                ],
                "taxes": [
                    {
                        "name": "Local Sales Tax",
                        "amount": "2.00",
                        "rate": 10,
                        "authority": {
                            "addressCountry": "US",
                            "addressRegion": "WA"
                        }
                    }
                ],
                "currencyCode": "USD",
                "user": "https://us.api.concursolutions.com/profile/v1/principals/#################"
            },
            "image": "https://us.api.concursolutions.com/receipts/v4/##################/image",
            "userId": "########################",
            "id": "#######################",
            "digitizationStatus": "NO_PROCESSING_REQUIRED",
            "expense": {
                "paymentType": "CREDIT_CARD"
            },
            "self":
</code></pre></div></div>

<h3 id="retrieve-receipt-by-receipt-id">Retrieve Receipt by Receipt ID</h3>

<p>Individual receipts can also be retrieved by receipt ID.</p>

<p>REQUEST</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET https://us.api.concursolutions.com/receipts/v4/{receiptID}
Content-type:application/xml
Authorization: Bearer {access_token}
</code></pre></div></div>

<p>RESPONSE</p>

<p>200</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
"stateModifiedAt": "2020- 10 - 05T15:29:15.082Z",
"modifiedAt": "2020- 10 - 05T15:29:15.082Z",
"companyId": "ef#####################fd",
"dateTimeReceived": "2020- 10 - 05T15:13:14.426Z",
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
    "stateModifiedAt": "2020-10-05T15:29:15.082Z",
    "modifiedAt": "2020-10-05T15:29:15.082Z",
    "companyId": "ef#####################fd",
    "dateTimeReceived": "2020-10-05T15:13:14.426Z",
    "entityId": "p###########n",
    "validationSchema": "http://schema.concursolutions.com/general-receipt.schema.json",
    "receipt": {
        "merchant": {
            "name": "Travel Agency, Inc",
            "location": {
                "number": "100539586",
                "emailAddress": "https://www.concursolutions.com/",
                "telephoneNumber": "(888)555-1212",
                "address": {
                    "addressCountry": "US",
                    "addressLocality": "Bellevue ",
                    "addressRegion": "WA",
                    "streetAddress": "601 108th Ave NE #1000",
                    "postalCode": "98004"
                },
                "latitude": 37.80062,
                "name": "Booking Fee",
                "faxNumber": null,
                "internetAddress": "https://www.concursolutions.com/",
                "longitude": -122.40027
            }
        },
        "reference": "Invoice #100539586",
        "dateTime": "2020-10-03T00:00:00-08:00",
        "seller": {
            "name": "Travel Agency, Inc",
            "location": {
                "number": "100539586",
                "emailAddress": "https://www.concursolutions.com/",
                "telephoneNumber": "(888)555-1212",
                "address": {
                    "addressCountry": "US",
                    "addressLocality": "Bellevue ",
                    "addressRegion": "WA",
                    "streetAddress": "601 108th Ave NE #1000",
                    "postalCode": "98004"
                },
                "latitude": 37.80062,
                "name": "Booking Fee",
                "faxNumber": null,
                "internetAddress": "https://www.concursolutions.com/",
                "longitude": -122.40027
            }
        },
        "lineItems": [
            {
                "reference": null,
                "sequenceNumber": 1,
                "total": "20.00",
                "quantity": 1,
                "taxesTotal": "2.00",
                "subtotal": "19.00",
                "unitCost": "19.00",
                "description": "Invoice# 100539586 ",
                "taxes": [
                    {
                        "name": "Discount",
                        "amount": "-1.00",
                        "rate": 5,
                        "authority": {
                            "addressCountry": "US",
                            "addressRegion": "WA"
                        }
                    }
                ]
            }
        ],
        "app": "https://us.api.concursolutions.com/profile/v1/apps/##################",
        "total": "20.00",
        "taxesTotal": "2.00",
        "subtotal": "18.00",
        "payments": [
            {
                "cardDetail": {
                    "cardType": "American Express",
                    "authorizationCode": "AB987654321",
                    "creditCardId": "1009"
                },
                "amount": "20.00"
            }
        ],
        "taxes": [
            {
                "name": "Local Sales Tax",
                "amount": "2.00",
                "rate": 10,
                "authority": {
                    "addressCountry": "US",
                    "addressRegion": "WA"
                }
            }
        ],
        "currencyCode": "USD",
        "user": "https://us.api.concursolutions.com/profile/v1/principals/#############"
    },
    "image": "https://us.api.concursolutions.com/receipts/v4/d3c45f8443544e40a9289ee4ff09056b/image",
    "userId": "####################",
    "id": "######################",
    "digitizationStatus": "NO_PROCESSING_REQUIRED",
    "expense": {
        "paymentType": "CREDIT_CARD"
    },
    "self": "https://us.api.concursolutions.com/receipts/v4/d3c45f8443544e40a9289ee4ff09056b",
    "template": "https://us.api.concursolutions.com/receipts/v4/{receiptId}"
}
</code></pre></div></div>

<h3 id="retrieve-image-only-receipt-by-receipt-id">Retrieve Image-Only Receipt by Receipt ID</h3>

<p>From the list of receipts returned in the response for the user, URIs for receipt images are available for each of the receipts returned. Using the company-level OAuth token, you may retrieve the image-only receipt from our Imaging service in an imaging file format.</p>

<p>REQUEST</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET https://us.api.concursolutions.com/receipts/v4/{receiptID}/image

Content-type:application/xml
Authorization: Bearer {access_token}
</code></pre></div></div>

<p>RESPONSE</p>

<p>200</p>

<p>Save the response.png file that is returned using the unique Receipt ID as the identifier.</p>

<h2 id="faq">FAQ</h2>

<p>Q. Can anyone create receipts for traveler’s and expense reports?</p>

<p>A. No. Only authorized partners and certified partner applications are granted permissions and secured scopes by the App Center, Platform Enablement team, and Core Services team.</p>

<p>Q. Can anyone connect to an agency receipts application?</p>

<p>A. No. Company connections to certified partner applications can only be made by Administrators.</p>

<p>Q. Can I disconnect my company from an agency receipts application?</p>

<p>A. Yes. Company Administrators can disconnect their organization to any connected application upon request. Also, the partner receipt application can be excluded by any organization upon request. Applications in the App Center can be disabled or hidden by the App Center Administrator upon request. The App Center can also be disabled upon request.</p>

      </div>
      <!--/col-md-8-->
      
      <div id="markdown-toc"
           class="col-md-2 markdown-toc">
        <div class="markdown-toc-header">
    <h4>On this page</h4>
</div>
<div class="markdown-toc-content">
</div>

      </div>
      <!--/col-md-1-->
      
    </div>
    <!--/row-->
  </div>
  <!--/container-->

  <!-- TOCBOT -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>

<script>
  tocbot.init({
    // Where to render the table of contents.
    tocSelector: '.markdown-toc-content',
    // Where to grab the headings to build the table of contents.
    contentSelector: '.markdown-body',
    // Which headings to grab inside of the contentSelector element.
    headingSelector: 'h1, h2',
    // For headings inside relative or absolute positioned containers within content.
    hasInnerContainers: false,
  });
</script>


    </div>

    <footer class="hidden-print"
        id="footer">
  <div class="col-md-8 footer-copyright">
    <p>
      &copy;
      <script type="text/javascript">
        document.write(new Date().getFullYear());
      </script>
      All Rights Reserved.
      <a href="https://www.concur.com/en-us/privacy-policy">Privacy Policy</a> |
      <a href="/terms-of-use-2021.html">Terms of Use</a> |
      <a href="/tools-support/deprecation-policy.html">API Deprecation Policy</a> |
      <a href="https://github.com/SAP-docs/preview.developer.concur.com/blob/main/src/api-guides/tmc/receipts-v4-guide.markdown">Edit this page on GitHub</a>
    </p>
  </div>

  <!-- Social Links -->
  <div class="col-md-4 footer-social">
    <ul class="list-inline social-icons">
      <li>
        <a href="https://www.facebook.com/SAPConcur"
           target="_blank">
          <span class="sr-only">Facebook</span>
          <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
      <li>
        <a href="https://www.linkedin.com/company/5822"
           target="_blank">
          <span class="sr-only">LinkedIn</span>
          <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-linkedin-in fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
      <li>
        <a href="https://twitter.com/sapconcur"
           target="_blank">
          <span class="sr-only">Twitter</span>
          <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
      <li>
        <a href="https://www.youtube.com/playlist?list=PLLNSVdjqNPVseaDkR5hSF4CDjnlLK7_nq"
           target="_blank">
          <span class="sr-only">Youtube</span>
          <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
    </ul>
  </div>
  <!-- End Social Links -->
</footer>
<!--/.footer-->

  </div>
  <!--/wrapper-->

  <!-- JS Global Compulsory -->
<script type="text/javascript" src="/assets/plugins/jquery/jquery.min.js"></script>
<script type="text/javascript" src="/assets/plugins/jquery/jquery-migrate.min.js"></script>
<script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script>

<!-- Swagger -->
<!-- <script src="/swagger-ui/lib/jquery-1.8.0.min.js" type="text/javascript"></script> -->



<script>
  var replacementURL = "preview.developer.concur.com/api-explorer-proxy";
</script>



<!-- JS Implementing Plugins -->
<script type="text/javascript" src="/assets/plugins/back-to-top.js"></script>
<!-- JS Page Level -->
<script type="text/javascript" src="/assets/js/app.js"></script>
<script type="text/javascript">
  jQuery(document).ready(function() {
    App.init();
  });
</script>

<script>
  var oHeader = document.getElementById("header-navbar");
  var oContent = document.getElementById("main-content");
  var oFooter = document.getElementById("footer");

  // Set content overall height
  var iNewHeight = oContent.offsetHeight - (oHeader.offsetHeight + oFooter.offsetHeight);
  var sHeight = "" + iNewHeight + "px";
  oContent.style.height = sHeight;

  // Set Triple component heights.
  // var oBreadcrumb = document.getElementById("breadcrumbs");
  var oLeftNav = document.getElementById("left-navigation");
  var oMDContent = document.getElementById("markdown-body");
  var oMDToc = document.getElementById("markdown-toc");
  var iViewWidth = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)

  // Widths are 2-8-2 or 2-10 if no MDToc
  var sWidth;
  if (iViewWidth < 989) {
    if (!!oLeftNav) {
      oLeftNav.style.height = 100;
      sWidth = "" + (window.innerWidth * 0.950) + "px";
      oLeftNav.style.maxWidth = sWidth;
    }
  } else {
    if (!!oLeftNav) {
      oLeftNav.style.height = sHeight;
      sWidth = "" + (window.innerWidth * 0.166) + "px";
      oLeftNav.style.maxWidth = sWidth;
    }
    if (!!oMDContent) {
      oMDContent.style.height = sHeight;
      if (!!oMDToc) {
        // 8 / 12
        sWidth = "" + (window.innerWidth *0.66) + "px";
        oMDContent.style.maxWidth = sWidth;
      } else {
        // 10 / 12
        oMDContent.style.maxWidth = window.innerWidth * 0.833;
        sWidth = "" + (window.innerWidth * 0.833) + "px";
        oMDContent.style.maxWidth = sWidth;
      }
    }
    if (!!oMDToc) {
      oMDToc.style.height = sHeight;
      sWidth = "" + (window.innerWidth * 0.166) + "px";
      oMDToc.style.maxWidth = sWidth;
    }
  }
</script>


</body>

</html>
